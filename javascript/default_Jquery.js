!function(a){function b(a){return a.replace(/([a-z])-([a-z])/g,function(a,b,c){return b+c.toUpperCase()}).replace(/^-/,"")}function c(a){-1!=a.indexOf("-")&&(a=b(a));var c,d,e=a.charAt(0).toUpperCase()+a.slice(1),f="Moz O ms Webkit",g=f.split(" "),h=(a+" "+g.join(e+" ")+e).split(" "),i=document.createElement("a"),j=h.length;for(c=0;c<j;c++)if(d=h[c],void 0!==i.style[d])return d;return!1}function d(){return(-1===g.indexOf("Android 2.")&&-1===g.indexOf("Android 4.0")||-1===g.indexOf("Mobile Safari")||-1!==g.indexOf("Chrome")||-1!==g.indexOf("Windows Phone"))&&(!g.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/)&&(window.history&&"pushState"in window.history&&"replaceState"in window.history))}function e(){var a,b=document.createElement("div"),c={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(c.hasOwnProperty(a)&&void 0!==b.style[a])return c[a];return!1}var f={},g=navigator.userAgent;f.history=d(),f.transitionend=e(),f.objectFit=c("object-fit"),f.objectPosition=c("object-position"),a.support=f,a.testCSS=c}(this),function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),function(a){a.matches=a.matches||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(a){for(var b=this,c=(b.document||b.ownerDocument).querySelectorAll(a),d=0;c[d]&&c[d]!==b;)++d;return!!c[d]},a.closest=a.closest||function(a){for(var b=this;b&&!b.matches(a);)b=b.parentElement;return b}}(Element.prototype),function(a){a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this)}}(Element.prototype),function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(a){"use strict";function b(a,b){if(a&&(!Array.isArray(a)||a.length))if(Array.isArray(a))for(var c=0;c<a.length;c++)b(a[c],c);else b(a,c)}function c(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function d(a,c){b(a,function(a,b){(e(a,c)?g:f)(a,c)})}var e,f,g;"classList"in document.documentElement?(e=function(a,b){return!!a&&a.classList.contains(b)},f=function(a,c){b(a,function(a,b){a.classList.add(c)})},g=function(a,c){b(a,function(a,b){a.classList.remove(c)})}):(e=function(a,b){return!!a&&c(b).test(a.className)},f=function(a,c){b(a,function(a,b){e(a,c)||(a.className=a.className+" "+c)})},g=function(a,d){b(a,function(a,b){a.className=a.className.replace(c(d)," ")})});var h={has:e,add:f,remove:g,toggle:d};a.ffclass=h}(this),function(a){function b(a){return a?Array.prototype.slice.call(a):[]}function c(a,b){return b||0!==a.indexOf("#")?(b||document).querySelector(a):document.getElementById(a.substr(1,a.length))}function d(a,c){return b((c||document).querySelectorAll(a))}a.$=c,a.$$=d,a.ff={toArray:b}}(this),function(a){function b(a){a.before&&a.before();var b=new XMLHttpRequest;a.method&&"post"==a.method.toLowerCase()?b.open(a.method,a.url,!0):(a.method="GET",a.params=a.params?(-1===a.url.indexOf("?")?"?":"&")+a.params:"",b.open(a.method,encodeURI(a.url+a.params),!0)),b.onload=function(){if(b.status>=200&&b.status<400){var c=a.json?JSON.parse(b.responseText):b.responseText;a.success&&a.success(c),a.always&&a.always(c)}else a.error&&a.error(),a.always&&a.always(!1)},b.onerror=function(){a.error&&a.error(),a.always&&a.always(!1)},"post"==a.method.toLowerCase()?b.send(a.params):b.send()}a.ff?a.ff.ajax=b:a.ff={ajax:b}}(this),function(a){function b(a,b){b.parentNode.insertBefore(a,b.nextElementSibling)}a.ff?a.ff.insertAfter=b:a.ff={insertAfter:b}}(this),function(a){function b(a,b){for(var c=[],d=!0;a=a.nextElementSibling;)d&&a&&!a.matches(b)?c.push(a):d=!1;return c}a.ff?a.ff.nextUntil=b:a.ff={nextUntil:b}}(this),function(a){function b(a,b){var c=document.createDocumentFragment(),d=c.appendChild(document.createElement("div"));return d.innerHTML=a,b?d.childNodes[0]:d.childNodes}a.ff?a.ff.parseHTML=b:a.ff={parseHTML:b}}(this),function(a){function b(a){return Array.prototype.filter.call(a.parentNode.children,function(b){return b!==a})}a.ff?a.ff.siblings=b:a.ff={siblings:b}}(this),function(a){"use strict";function b(a,b){if(!a)throw new Error("No selector");if(a.length>0)throw new Error("Selector is an array");for(var d=0;d<h.length;d++)if(h[d]===a)throw new Error("Already init");var e=this;e.args={btnPrev:"ffs_prev",btnNext:"ffs_next",dots:"ffs_dot",dotCurrent:"is-active",items:"ffs_i",currentClass:"is-active",showPrevClass:"ffs_i-showPrev",showNextClass:"ffs_i-showNext",hidePrevClass:"ffs_i-hidePrev",hideNextClass:"ffs_i-hideNext",infinite:!0,keys:!0,idx:0},e.args=f(e.args,b),e.$s=a,e.event=null,e.reset(),e.btnPrev=!!e.args.btnPrev&&e.$s.querySelector(" ."+e.args.btnPrev),e.btnNext=!!e.args.btnNext&&e.$s.querySelector(" ."+e.args.btnNext),e.dots=!!e.args.dots&&Array.prototype.slice.call(e.$s.querySelectorAll("."+e.args.dots)),e.bindEvts(),e.addEvt(),-1===e.idx&&(e.idx=0,c(e.items[e.idx],e.args.currentClass)),e.args.keys&&e.$s.setAttribute("tabindex",-1),e.dots&&c(e.dots[e.idx],e.args.dotCurrent),e.btnPrev&&e.btnPrev.removeAttribute("disabled"),e.btnNext&&e.btnNext.removeAttribute("disabled"),(e.btnPrev||e.btnNext)&&e.updateBtns(),setTimeout(function(){e.event.detail.current=e.idx,e.$s.dispatchEvent(e.event)},0)}function c(a,b){a&&(a.className=a.className.replace(/\s+$/gi,"")+" "+b)}function d(a,b){a&&(a.className=a.className.replace(b,""))}function e(a,b){if(a)return(b||document).querySelectorAll("."+a)}function f(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=b[c];return d}function g(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}var h=[],i=b.prototype;i.updateBtns=function(){var a=this;(a.btnPrev||a.btnNext)&&(a.idx!==a.nb||a.args.infinite?0!==a.idx||a.args.infinite||a.btnPrev.setAttribute("disabled","disabled"):a.btnNext.setAttribute("disabled","disabled"))},i.removeAttrs=function(){var a=this;d(a.items[a.idx],a.args.currentClass),d(e(a.args.hidePrevClass,a.$s)[0],a.args.hidePrevClass),d(e(a.args.hideNextClass,a.$s)[0],a.args.hideNextClass),d(e(a.args.showPrevClass,a.$s)[0],a.args.showPrevClass),d(e(a.args.showNextClass,a.$s)[0],a.args.showNextClass),a.btnPrev&&a.btnPrev.removeAttribute("disabled"),a.btnNext&&a.btnNext.removeAttribute("disabled"),a.dots&&d(e(a.args.dotCurrent,a.$s)[0],a.args.dotCurrent)},i.goTo=function(a){var b=this,d=!1;if(a!==b.idx){if(b.args.infinite&&-1===a)a=b.nb,d=!0;else if(b.args.infinite&&a>b.nb)a=0,d=!0;else if(a>b.nb||a<0)return;b.removeAttrs(),c(b.items[b.idx],a>b.idx&&!d||0===a&&d?b.args.hidePrevClass:b.args.hideNextClass),c(b.items[a],b.args.currentClass+" "+(a>b.idx&&!d||0===a&&d?b.args.showNextClass:b.args.showPrevClass)),b.dots&&c(b.dots[a],b.args.dotCurrent),b.idx=a,b.updateBtns(),b.event.detail.current=b.idx,b.$s.dispatchEvent(b.event)}},i.prev=function(){var a=this;a.goTo(a.idx-1)},i.next=function(){var a=this;a.goTo(a.idx+1)},i.reset=function(){var a=this;a.items=Array.prototype.slice.call(a.$s.querySelectorAll(" ."+a.args.items)),a.idx=a.items.indexOf(a.$s.querySelector(" ."+a.args.currentClass)),a.nb=a.items.length-1},i.bindEvts=function(){var a=this;h.push(a.$s),a.btnPrev&&a.btnPrev.addEventListener("click",function(b){b.preventDefault(),a.prev()}),a.btnNext&&a.btnNext.addEventListener("click",function(b){b.preventDefault(),a.next()}),a.dots&&a.dots.forEach(function(b,c){b.addEventListener("click",function(){a.goTo(c)})}),a.args.keys&&(a.$s.onkeydown=function(b){switch(b.keyCode){case 37:a.prev();break;case 39:a.next()}})},i.on=function(a,b){this.$s.addEventListener(a,function(a){return b(a)},!1)},i.addEvt=function(){var a=this;a.event=new g("change",{detail:{slider:a.$s,current:Number(a.idx)},bubbles:!0,cancelable:!0})},g.prototype=window.CustomEvent.prototype,window.CustomEvent=g,a.ffslider=b}(this),function(a,b){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("jquery")):a.jQueryBridget=b(a,a.jQuery)}(window,function(a,b){"use strict";function c(c,f,h){function i(a,b,d){var e,f="$()."+c+'("'+b+'")';return a.each(function(a,i){var j=h.data(i,c);if(!j)return void g(c+" not initialized. Cannot call methods, i.e. "+f);var k=j[b];if(!k||"_"==b.charAt(0))return void g(f+" is not a valid method");var l=k.apply(j,d);e=void 0===e?l:e}),void 0!==e?e:a}function j(a,b){a.each(function(a,d){var e=h.data(d,c);e?(e.option(b),e._init()):(e=new f(d,b),h.data(d,c,e))})}(h=h||b||a.jQuery)&&(f.prototype.option||(f.prototype.option=function(a){h.isPlainObject(a)&&(this.options=h.extend(!0,this.options,a))}),h.fn[c]=function(a){if("string"==typeof a){return i(this,a,e.call(arguments,1))}return j(this,a),this},d(h))}function d(a){!a||a&&a.bridget||(a.bridget=c)}var e=Array.prototype.slice,f=a.console,g=void 0===f?function(){}:function(a){f.error(a)};return d(b||a.jQuery),c}),function(a,b){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",b):"object"==typeof module&&module.exports?module.exports=b():a.EvEmitter=b()}("undefined"!=typeof window?window:this,function(){function a(){}var b=a.prototype;return b.on=function(a,b){if(a&&b){var c=this._events=this._events||{},d=c[a]=c[a]||[];return-1==d.indexOf(b)&&d.push(b),this}},b.once=function(a,b){if(a&&b){this.on(a,b);var c=this._onceEvents=this._onceEvents||{};return(c[a]=c[a]||{})[b]=!0,this}},b.off=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=c.indexOf(b);return-1!=d&&c.splice(d,1),this}},b.emitEvent=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=0,e=c[d];b=b||[];for(var f=this._onceEvents&&this._onceEvents[a];e;){var g=f&&f[e];g&&(this.off(a,e),delete f[e]),e.apply(this,b),d+=g?0:1,e=c[d]}return this}},a}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return b()}):"object"==typeof module&&module.exports?module.exports=b():a.getSize=b()}(window,function(){"use strict";function a(a){var b=parseFloat(a);return-1==a.indexOf("%")&&!isNaN(b)&&b}function b(){}function c(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0;b<j;b++){a[i[b]]=0}return a}function d(a){var b=getComputedStyle(a);return b||h("Style returned "+b+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),b}function e(){if(!k){k=!0;var b=document.createElement("div");b.style.width="200px",b.style.padding="1px 2px 3px 4px",b.style.borderStyle="solid",b.style.borderWidth="1px 2px 3px 4px",b.style.boxSizing="border-box";var c=document.body||document.documentElement;c.appendChild(b);var e=d(b);f.isBoxSizeOuter=g=200==a(e.width),c.removeChild(b)}}function f(b){if(e(),"string"==typeof b&&(b=document.querySelector(b)),b&&"object"==typeof b&&b.nodeType){var f=d(b);if("none"==f.display)return c();var h={};h.width=b.offsetWidth,h.height=b.offsetHeight;for(var k=h.isBorderBox="border-box"==f.boxSizing,l=0;l<j;l++){var m=i[l],n=f[m],o=parseFloat(n);h[m]=isNaN(o)?0:o}var p=h.paddingLeft+h.paddingRight,q=h.paddingTop+h.paddingBottom,r=h.marginLeft+h.marginRight,s=h.marginTop+h.marginBottom,t=h.borderLeftWidth+h.borderRightWidth,u=h.borderTopWidth+h.borderBottomWidth,v=k&&g,w=a(f.width);!1!==w&&(h.width=w+(v?0:p+t));var x=a(f.height);return!1!==x&&(h.height=x+(v?0:q+u)),h.innerWidth=h.width-(p+t),h.innerHeight=h.height-(q+u),h.outerWidth=h.width+r,h.outerHeight=h.height+s,h}}var g,h="undefined"==typeof console?b:function(a){console.error(a)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],j=i.length,k=!1;return f}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",b):"object"==typeof module&&module.exports?module.exports=b():a.matchesSelector=b()}(window,function(){"use strict";var a=function(){var a=Element.prototype;if(a.matches)return"matches";if(a.matchesSelector)return"matchesSelector";for(var b=["webkit","moz","ms","o"],c=0;c<b.length;c++){var d=b[c],e=d+"MatchesSelector";if(a[e])return e}}();return function(b,c){return b[a](c)}}),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.matchesSelector)}(window,function(a,b){var c={};c.extend=function(a,b){for(var c in b)a[c]=b[c];return a},c.modulo=function(a,b){return(a%b+b)%b},c.makeArray=function(a){var b=[];if(Array.isArray(a))b=a;else if(a&&"number"==typeof a.length)for(var c=0;c<a.length;c++)b.push(a[c]);else b.push(a);return b},c.removeFrom=function(a,b){var c=a.indexOf(b);-1!=c&&a.splice(c,1)},c.getParent=function(a,c){for(;a!=document.body;)if(a=a.parentNode,b(a,c))return a},c.getQueryElement=function(a){return"string"==typeof a?document.querySelector(a):a},c.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},c.filterFindElements=function(a,d){a=c.makeArray(a);var e=[];return a.forEach(function(a){if(a instanceof HTMLElement){if(!d)return void e.push(a);b(a,d)&&e.push(a);for(var c=a.querySelectorAll(d),f=0;f<c.length;f++)e.push(c[f])}}),e},c.debounceMethod=function(a,b,c){var d=a.prototype[b],e=b+"Timeout";a.prototype[b]=function(){var a=this[e];a&&clearTimeout(a);var b=arguments,f=this;this[e]=setTimeout(function(){d.apply(f,b),delete f[e]},c||100)}},c.docReady=function(a){var b=document.readyState;"complete"==b||"interactive"==b?setTimeout(a):document.addEventListener("DOMContentLoaded",a)},c.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()};var d=a.console;return c.htmlInit=function(b,e){c.docReady(function(){var f=c.toDashed(e),g="data-"+f,h=document.querySelectorAll("["+g+"]"),i=document.querySelectorAll(".js-"+f),j=c.makeArray(h).concat(c.makeArray(i)),k=g+"-options",l=a.jQuery;j.forEach(function(a){var c,f=a.getAttribute(g)||a.getAttribute(k);try{c=f&&JSON.parse(f)}catch(h){return void(d&&d.error("Error parsing "+g+" on "+a.className+": "+h))}var i=new b(a,c);l&&l.data(a,e,i)})})},c}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("get-size")):(a.Flickity=a.Flickity||{},a.Flickity.Cell=b(a,a.getSize))}(window,function(a,b){function c(a,b){this.element=a,this.parent=b,this.create()}var d=c.prototype;return d.create=function(){this.element.style.position="absolute",this.x=0,this.shift=0},d.destroy=function(){this.element.style.position="";var a=this.parent.originSide;this.element.style[a]=""},d.getSize=function(){this.size=b(this.element)},d.setPosition=function(a){this.x=a,this.updateTarget(),this.renderPosition(a)},d.updateTarget=d.setDefaultTarget=function(){var a="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[a]+this.size.width*this.parent.cellAlign},d.renderPosition=function(a){var b=this.parent.originSide;this.element.style[b]=this.parent.getPositionValue(a)},d.wrapShift=function(a){this.shift=a,this.renderPosition(this.x+this.parent.slideableWidth*a)},d.remove=function(){this.element.parentNode.removeChild(this.element)},c}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/slide",b):"object"==typeof module&&module.exports?module.exports=b():(a.Flickity=a.Flickity||{},a.Flickity.Slide=b())}(window,function(){"use strict";function a(a){this.parent=a,this.isOriginLeft="left"==a.originSide,this.cells=[],this.outerWidth=0,this.height=0}var b=a.prototype;return b.addCell=function(a){if(this.cells.push(a),this.outerWidth+=a.size.outerWidth,this.height=Math.max(a.size.outerHeight,this.height),1==this.cells.length){this.x=a.x;var b=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=a.size[b]}},b.updateTarget=function(){var a=this.isOriginLeft?"marginRight":"marginLeft",b=this.getLastCell(),c=b?b.size[a]:0,d=this.outerWidth-(this.firstMargin+c);this.target=this.x+this.firstMargin+d*this.parent.cellAlign},b.getLastCell=function(){return this.cells[this.cells.length-1]},b.select=function(){this.changeSelectedClass("add")},b.unselect=function(){this.changeSelectedClass("remove")},b.changeSelectedClass=function(a){this.cells.forEach(function(b){b.element.classList[a]("is-selected")})},b.getCellElements=function(){return this.cells.map(function(a){return a.element})},a}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("fizzy-ui-utils")):(a.Flickity=a.Flickity||{},a.Flickity.animatePrototype=b(a,a.fizzyUIUtils))}(window,function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=0;c||(c=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-d)),e=setTimeout(a,c);return d=b+c,e});var e={};e.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},e.animate=function(){this.applyDragForce(),this.applySelectedAttraction();var a=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(a),this.isAnimating){var b=this;c(function(){b.animate()})}};var f=function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}();return e.positionSlider=function(){var a=this.x;this.options.wrapAround&&this.cells.length>1&&(a=b.modulo(a,this.slideableWidth),a-=this.slideableWidth,this.shiftWrapCells(a)),a+=this.cursorPosition,a=this.options.rightToLeft&&f?-a:a;var c=this.getPositionValue(a);this.slider.style[f]=this.isAnimating?"translate3d("+c+",0,0)":"translateX("+c+")";var d=this.slides[0];if(d){var e=-this.x-d.target,g=e/this.slidesWidth;this.dispatchEvent("scroll",null,[g,e])}},e.positionSliderAtSelected=function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.positionSlider())},e.getPositionValue=function(a){return this.options.percentPosition?.01*Math.round(a/this.size.innerWidth*1e4)+"%":Math.round(a)+"px"},e.settle=function(a){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*a)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle"))},e.shiftWrapCells=function(a){var b=this.cursorPosition+a;this._shiftCells(this.beforeShiftCells,b,-1);var c=this.size.innerWidth-(a+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,c,1)},e._shiftCells=function(a,b,c){for(var d=0;d<a.length;d++){var e=a[d],f=b>0?c:0;e.wrapShift(f),b-=e.size.outerWidth}},e._unshiftCells=function(a){if(a&&a.length)for(var b=0;b<a.length;b++)a[b].wrapShift(0)},e.integratePhysics=function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},e.applyForce=function(a){this.velocity+=a},e.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},e.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},e.applyDragForce=function(){if(this.isPointerDown){var a=this.dragX-this.x,b=a-this.velocity;this.applyForce(b)}},e.applySelectedAttraction=function(){if(!this.isPointerDown&&!this.isFreeScrolling&&this.cells.length){var a=-1*this.selectedSlide.target-this.x,b=a*this.options.selectedAttraction;this.applyForce(b)}},e}),function(a,b){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(c,d,e,f,g,h){return b(a,c,d,e,f,g,h)});else if("object"==typeof module&&module.exports)module.exports=b(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var c=a.Flickity;a.Flickity=b(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,c.Cell,c.Slide,c.animatePrototype)}}(window,function(a,b,c,d,e,f,g){function h(a,b){for(a=d.makeArray(a);a.length;)b.appendChild(a.shift())}function i(a,b){var c=d.getQueryElement(a);if(!c)return void(l&&l.error("Bad element for Flickity: "+(c||a)));if(this.element=c,this.element.flickityGUID){var e=n[this.element.flickityGUID];return e.option(b),e}j&&(this.$element=j(this.element)),this.options=d.extend({},this.constructor.defaults),this.option(b),this._create()}var j=a.jQuery,k=a.getComputedStyle,l=a.console,m=0,n={};i.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},i.createMethods=[];var o=i.prototype;d.extend(o,b.prototype),o._create=function(){var b=this.guid=++m;this.element.flickityGUID=b,n[b]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&a.addEventListener("resize",this),i.createMethods.forEach(function(a){this[a]()},this),this.options.watchCSS?this.watchCSS():this.activate()},o.option=function(a){d.extend(this.options,a)},o.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();h(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate");var a,b=this.options.initialIndex;a=this.isInitActivated?this.selectedIndex:void 0!==b&&this.cells[b]?b:0,this.select(a,!1,!0),this.isInitActivated=!0}},o._createSlider=function(){var a=document.createElement("div");a.className="flickity-slider",a.style[this.originSide]=0,this.slider=a},o._filterFindCellElements=function(a){return d.filterFindElements(a,this.options.cellSelector)},o.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},o._makeCells=function(a){return this._filterFindCellElements(a).map(function(a){return new e(a,this)},this)},o.getLastCell=function(){return this.cells[this.cells.length-1]},o.getLastSlide=function(){return this.slides[this.slides.length-1]},o.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},o._positionCells=function(a){a=a||0,this.maxCellHeight=a?this.maxCellHeight||0:0;var b=0;if(a>0){var c=this.cells[a-1];b=c.x+c.size.outerWidth}for(var d=this.cells.length,e=a;e<d;e++){var f=this.cells[e];f.setPosition(b),b+=f.size.outerWidth,this.maxCellHeight=Math.max(f.size.outerHeight,this.maxCellHeight)}this.slideableWidth=b,this.updateSlides(),this._containSlides(),this.slidesWidth=d?this.getLastSlide().target-this.slides[0].target:0},o._sizeCells=function(a){a.forEach(function(a){a.getSize()})},o.updateSlides=function(){if(this.slides=[],this.cells.length){var a=new f(this);this.slides.push(a);var b="left"==this.originSide,c=b?"marginRight":"marginLeft",d=this._getCanCellFit();this.cells.forEach(function(b,e){if(!a.cells.length)return void a.addCell(b);var g=a.outerWidth-a.firstMargin+(b.size.outerWidth-b.size[c]);d.call(this,e,g)?a.addCell(b):(a.updateTarget(),a=new f(this),this.slides.push(a),a.addCell(b))},this),a.updateTarget(),this.updateSelectedSlide()}},o._getCanCellFit=function(){var a=this.options.groupCells;if(!a)return function(){return!1};if("number"==typeof a){var b=parseInt(a,10);return function(a){return a%b!=0}}var c="string"==typeof a&&a.match(/^(\d+)%$/),d=c?parseInt(c[1],10)/100:1;return function(a,b){return b<=(this.size.innerWidth+1)*d}},o._init=o.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},o.getSize=function(){this.size=c(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var p={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return o.setCellAlign=function(){var a=p[this.options.cellAlign];this.cellAlign=a?a[this.originSide]:this.options.cellAlign},o.setGallerySize=function(){if(this.options.setGallerySize){var a=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=a+"px"}},o._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var a=this.cursorPosition,b=this.cells.length-1;this.beforeShiftCells=this._getGapCells(a,b,-1),a=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(a,0,1)}},o._getGapCells=function(a,b,c){for(var d=[];a>0;){var e=this.cells[b];if(!e)break;d.push(e),b+=c,a-=e.size.outerWidth}return d},o._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var a=this.options.rightToLeft,b=a?"marginRight":"marginLeft",c=a?"marginLeft":"marginRight",d=this.slideableWidth-this.getLastCell().size[c],e=d<this.size.innerWidth,f=this.cursorPosition+this.cells[0].size[b],g=d-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(a){e?a.target=d*this.cellAlign:(a.target=Math.max(a.target,f),a.target=Math.min(a.target,g))},this)}},o.dispatchEvent=function(a,b,c){var d=b?[b].concat(c):c;if(this.emitEvent(a,d),j&&this.$element){a+=this.options.namespaceJQueryEvents?".flickity":"";var e=a;if(b){var f=j.Event(b);f.type=a,e=f}this.$element.trigger(e,c)}},o.select=function(a,b,c){this.isActive&&(a=parseInt(a,10),this._wrapSelect(a),(this.options.wrapAround||b)&&(a=d.modulo(a,this.slides.length)),this.slides[a]&&(this.selectedIndex=a,this.updateSelectedSlide(),c?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select"),this.dispatchEvent("cellSelect")))},o._wrapSelect=function(a){var b=this.slides.length;if(!(this.options.wrapAround&&b>1))return a;var c=d.modulo(a,b),e=Math.abs(c-this.selectedIndex),f=Math.abs(c+b-this.selectedIndex),g=Math.abs(c-b-this.selectedIndex);!this.isDragSelect&&f<e?a+=b:!this.isDragSelect&&g<e&&(a-=b),a<0?this.x-=this.slideableWidth:a>=b&&(this.x+=this.slideableWidth)},o.previous=function(a,b){this.select(this.selectedIndex-1,a,b)},o.next=function(a,b){this.select(this.selectedIndex+1,a,b)},o.updateSelectedSlide=function(){var a=this.slides[this.selectedIndex];a&&(this.unselectSelectedSlide(),this.selectedSlide=a,a.select(),this.selectedCells=a.cells,this.selectedElements=a.getCellElements(),this.selectedCell=a.cells[0],this.selectedElement=this.selectedElements[0])},o.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},o.selectCell=function(a,b,c){var d;"number"==typeof a?d=this.cells[a]:("string"==typeof a&&(a=this.element.querySelector(a)),d=this.getCell(a));for(var e=0;d&&e<this.slides.length;e++){if(-1!=this.slides[e].cells.indexOf(d))return void this.select(e,b,c)}},o.getCell=function(a){for(var b=0;b<this.cells.length;b++){var c=this.cells[b];if(c.element==a)return c}},o.getCells=function(a){a=d.makeArray(a);var b=[];return a.forEach(function(a){var c=this.getCell(a);c&&b.push(c)},this),b},o.getCellElements=function(){return this.cells.map(function(a){return a.element})},o.getParentCell=function(a){var b=this.getCell(a);return b||(a=d.getParent(a,".flickity-slider > *"),this.getCell(a))},o.getAdjacentCellElements=function(a,b){if(!a)return this.selectedSlide.getCellElements();b=void 0===b?this.selectedIndex:b;var c=this.slides.length;if(1+2*a>=c)return this.getCellElements();for(var e=[],f=b-a;f<=b+a;f++){var g=this.options.wrapAround?d.modulo(f,c):f,h=this.slides[g];h&&(e=e.concat(h.getCellElements()))}return e},o.uiChange=function(){this.emitEvent("uiChange")},o.childUIPointerDown=function(a){this.emitEvent("childUIPointerDown",[a])},o.onresize=function(){this.watchCSS(),this.resize()},d.debounceMethod(i,"onresize",150),o.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=d.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var a=this.selectedElements&&this.selectedElements[0];this.selectCell(a,!1,!0)}},o.watchCSS=function(){this.options.watchCSS&&(-1!=k(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},o.onkeydown=function(a){if(this.options.accessibility&&(!document.activeElement||document.activeElement==this.element))if(37==a.keyCode){var b=this.options.rightToLeft?"next":"previous";this.uiChange(),this[b]()}else if(39==a.keyCode){var c=this.options.rightToLeft?"previous":"next";this.uiChange(),this[c]()}},o.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.cells.forEach(function(a){a.destroy()}),this.unselectSelectedSlide(),this.element.removeChild(this.viewport),h(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},o.destroy=function(){this.deactivate(),a.removeEventListener("resize",this),this.emitEvent("destroy"),j&&this.$element&&j.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete n[this.guid]},d.extend(o,g),i.data=function(a){a=d.getQueryElement(a);var b=a&&a.flickityGUID;return b&&n[b]},d.htmlInit(i,"flickity"),j&&j.bridget&&j.bridget("flickity",i),i.Cell=e,i}),function(a,b){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter")):a.Unipointer=b(a,a.EvEmitter)}(window,function(a,b){function c(){}function d(){}var e=d.prototype=Object.create(b.prototype);e.bindStartEvent=function(a){this._bindStartEvent(a,!0)},e.unbindStartEvent=function(a){this._bindStartEvent(a,!1)},e._bindStartEvent=function(b,c){c=void 0===c||!!c;var d=c?"addEventListener":"removeEventListener";a.navigator.pointerEnabled?b[d]("pointerdown",this):a.navigator.msPointerEnabled?b[d]("MSPointerDown",this):(b[d]("mousedown",this),b[d]("touchstart",this))},e.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},e.getTouch=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.identifier==this.pointerIdentifier)return c}},e.onmousedown=function(a){var b=a.button;b&&0!==b&&1!==b||this._pointerDown(a,a)},e.ontouchstart=function(a){this._pointerDown(a,a.changedTouches[0])},e.onMSPointerDown=e.onpointerdown=function(a){this._pointerDown(a,a)},e._pointerDown=function(a,b){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==b.pointerId?b.pointerId:b.identifier,this.pointerDown(a,b))},e.pointerDown=function(a,b){this._bindPostStartEvents(a),this.emitEvent("pointerDown",[a,b])};var f={mousedown:["mousemove","mouseup"],
touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return e._bindPostStartEvents=function(b){if(b){var c=f[b.type];c.forEach(function(b){a.addEventListener(b,this)},this),this._boundPointerEvents=c}},e._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(b){a.removeEventListener(b,this)},this),delete this._boundPointerEvents)},e.onmousemove=function(a){this._pointerMove(a,a)},e.onMSPointerMove=e.onpointermove=function(a){a.pointerId==this.pointerIdentifier&&this._pointerMove(a,a)},e.ontouchmove=function(a){var b=this.getTouch(a.changedTouches);b&&this._pointerMove(a,b)},e._pointerMove=function(a,b){this.pointerMove(a,b)},e.pointerMove=function(a,b){this.emitEvent("pointerMove",[a,b])},e.onmouseup=function(a){this._pointerUp(a,a)},e.onMSPointerUp=e.onpointerup=function(a){a.pointerId==this.pointerIdentifier&&this._pointerUp(a,a)},e.ontouchend=function(a){var b=this.getTouch(a.changedTouches);b&&this._pointerUp(a,b)},e._pointerUp=function(a,b){this._pointerDone(),this.pointerUp(a,b)},e.pointerUp=function(a,b){this.emitEvent("pointerUp",[a,b])},e._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},e.pointerDone=c,e.onMSPointerCancel=e.onpointercancel=function(a){a.pointerId==this.pointerIdentifier&&this._pointerCancel(a,a)},e.ontouchcancel=function(a){var b=this.getTouch(a.changedTouches);b&&this._pointerCancel(a,b)},e._pointerCancel=function(a,b){this._pointerDone(),this.pointerCancel(a,b)},e.pointerCancel=function(a,b){this.emitEvent("pointerCancel",[a,b])},d.getPointerPoint=function(a){return{x:a.pageX,y:a.pageY}},d}),function(a,b){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("unipointer")):a.Unidragger=b(a,a.Unipointer)}(window,function(a,b){function c(){}function d(){}var e=d.prototype=Object.create(b.prototype);e.bindHandles=function(){this._bindHandles(!0)},e.unbindHandles=function(){this._bindHandles(!1)};var f=a.navigator;return e._bindHandles=function(a){a=void 0===a||!!a;var b;b=f.pointerEnabled?function(b){b.style.touchAction=a?"none":""}:f.msPointerEnabled?function(b){b.style.msTouchAction=a?"none":""}:c;for(var d=a?"addEventListener":"removeEventListener",e=0;e<this.handles.length;e++){var g=this.handles[e];this._bindStartEvent(g,a),b(g),g[d]("click",this)}},e.pointerDown=function(a,b){if("INPUT"==a.target.nodeName&&"range"==a.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(a,b);var c=document.activeElement;c&&c.blur&&c.blur(),this._bindPostStartEvents(a),this.emitEvent("pointerDown",[a,b])},e._dragPointerDown=function(a,c){this.pointerDownPoint=b.getPointerPoint(c),this.canPreventDefaultOnPointerDown(a,c)&&a.preventDefault()},e.canPreventDefaultOnPointerDown=function(a){return"SELECT"!=a.target.nodeName},e.pointerMove=function(a,b){var c=this._dragPointerMove(a,b);this.emitEvent("pointerMove",[a,b,c]),this._dragMove(a,b,c)},e._dragPointerMove=function(a,c){var d=b.getPointerPoint(c),e={x:d.x-this.pointerDownPoint.x,y:d.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(e)&&this._dragStart(a,c),e},e.hasDragStarted=function(a){return Math.abs(a.x)>3||Math.abs(a.y)>3},e.pointerUp=function(a,b){this.emitEvent("pointerUp",[a,b]),this._dragPointerUp(a,b)},e._dragPointerUp=function(a,b){this.isDragging?this._dragEnd(a,b):this._staticClick(a,b)},e._dragStart=function(a,c){this.isDragging=!0,this.dragStartPoint=b.getPointerPoint(c),this.isPreventingClicks=!0,this.dragStart(a,c)},e.dragStart=function(a,b){this.emitEvent("dragStart",[a,b])},e._dragMove=function(a,b,c){this.isDragging&&this.dragMove(a,b,c)},e.dragMove=function(a,b,c){a.preventDefault(),this.emitEvent("dragMove",[a,b,c])},e._dragEnd=function(a,b){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(a,b)},e.dragEnd=function(a,b){this.emitEvent("dragEnd",[a,b])},e.onclick=function(a){this.isPreventingClicks&&a.preventDefault()},e._staticClick=function(a,b){if(!this.isIgnoringMouseUp||"mouseup"!=a.type){var c=a.target.nodeName;"INPUT"!=c&&"TEXTAREA"!=c||a.target.focus(),this.staticClick(a,b),"mouseup"!=a.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}},e.staticClick=function(a,b){this.emitEvent("staticClick",[a,b])},d.getPointerPoint=b.getPointerPoint,d}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(c,d,e){return b(a,c,d,e)}):"object"==typeof module&&module.exports?module.exports=b(a,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):a.Flickity=b(a,a.Flickity,a.Unidragger,a.fizzyUIUtils)}(window,function(a,b,c,d){function e(){return{x:a.pageXOffset,y:a.pageYOffset}}d.extend(b.defaults,{draggable:!0,dragThreshold:3}),b.createMethods.push("_createDrag");var f=b.prototype;d.extend(f,c.prototype);var g="createTouch"in document,h=!1;f._createDrag=function(){this.on("activate",this.bindDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.unbindDrag),g&&!h&&(a.addEventListener("touchmove",function(){}),h=!0)},f.bindDrag=function(){this.options.draggable&&!this.isDragBound&&(this.element.classList.add("is-draggable"),this.handles=[this.viewport],this.bindHandles(),this.isDragBound=!0)},f.unbindDrag=function(){this.isDragBound&&(this.element.classList.remove("is-draggable"),this.unbindHandles(),delete this.isDragBound)},f._uiChangeDrag=function(){delete this.isFreeScrolling},f._childUIPointerDownDrag=function(a){a.preventDefault(),this.pointerDownFocus(a)};var i={TEXTAREA:!0,INPUT:!0,OPTION:!0},j={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};f.pointerDown=function(b,c){if(i[b.target.nodeName]&&!j[b.target.type])return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(b,c);var d=document.activeElement;d&&d.blur&&d!=this.element&&d!=document.body&&d.blur(),this.pointerDownFocus(b),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this._bindPostStartEvents(b),this.pointerDownScroll=e(),a.addEventListener("scroll",this),this.dispatchEvent("pointerDown",b,[c])};var k={touchstart:!0,MSPointerDown:!0},l={INPUT:!0,SELECT:!0};return f.pointerDownFocus=function(b){if(this.options.accessibility&&!k[b.type]&&!l[b.target.nodeName]){var c=a.pageYOffset;this.element.focus(),a.pageYOffset!=c&&a.scrollTo(a.pageXOffset,c)}},f.canPreventDefaultOnPointerDown=function(a){var b="touchstart"==a.type,c=a.target.nodeName;return!b&&"SELECT"!=c},f.hasDragStarted=function(a){return Math.abs(a.x)>this.options.dragThreshold},f.pointerUp=function(a,b){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",a,[b]),this._dragPointerUp(a,b)},f.pointerDone=function(){a.removeEventListener("scroll",this),delete this.pointerDownScroll},f.dragStart=function(b,c){this.dragStartPosition=this.x,this.startAnimation(),a.removeEventListener("scroll",this),this.dispatchEvent("dragStart",b,[c])},f.pointerMove=function(a,b){var c=this._dragPointerMove(a,b);this.dispatchEvent("pointerMove",a,[b,c]),this._dragMove(a,b,c)},f.dragMove=function(a,b,c){a.preventDefault(),this.previousDragX=this.dragX;var d=this.options.rightToLeft?-1:1,e=this.dragStartPosition+c.x*d;if(!this.options.wrapAround&&this.slides.length){var f=Math.max(-this.slides[0].target,this.dragStartPosition);e=e>f?.5*(e+f):e;var g=Math.min(-this.getLastSlide().target,this.dragStartPosition);e=e<g?.5*(e+g):e}this.dragX=e,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",a,[b,c])},f.dragEnd=function(a,b){this.options.freeScroll&&(this.isFreeScrolling=!0);var c=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var d=this.getRestingPosition();this.isFreeScrolling=-d>this.slides[0].target&&-d<this.getLastSlide().target}else this.options.freeScroll||c!=this.selectedIndex||(c+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(c),delete this.isDragSelect,this.dispatchEvent("dragEnd",a,[b])},f.dragEndRestingSelect=function(){var a=this.getRestingPosition(),b=Math.abs(this.getSlideDistance(-a,this.selectedIndex)),c=this._getClosestResting(a,b,1),d=this._getClosestResting(a,b,-1);return c.distance<d.distance?c.index:d.index},f._getClosestResting=function(a,b,c){for(var d=this.selectedIndex,e=1/0,f=this.options.contain&&!this.options.wrapAround?function(a,b){return a<=b}:function(a,b){return a<b};f(b,e)&&(d+=c,e=b,null!==(b=this.getSlideDistance(-a,d)));)b=Math.abs(b);return{distance:e,index:d-c}},f.getSlideDistance=function(a,b){var c=this.slides.length,e=this.options.wrapAround&&c>1,f=e?d.modulo(b,c):b,g=this.slides[f];if(!g)return null;var h=e?this.slideableWidth*Math.floor(b/c):0;return a-(g.target+h)},f.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var a=this.getSlideDistance(-this.dragX,this.selectedIndex),b=this.previousDragX-this.dragX;return a>0&&b>0?1:a<0&&b<0?-1:0},f.staticClick=function(a,b){var c=this.getParentCell(a.target),d=c&&c.element,e=c&&this.cells.indexOf(c);this.dispatchEvent("staticClick",a,[b,d,e])},f.onscroll=function(){var a=e(),b=this.pointerDownScroll.x-a.x,c=this.pointerDownScroll.y-a.y;(Math.abs(b)>3||Math.abs(c)>3)&&this._pointerDone()},b}),function(a,b){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("unipointer")):a.TapListener=b(a,a.Unipointer)}(window,function(a,b){function c(a){this.bindTap(a)}var d=c.prototype=Object.create(b.prototype);return d.bindTap=function(a){a&&(this.unbindTap(),this.tapElement=a,this._bindStartEvent(a,!0))},d.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},d.pointerUp=function(c,d){if(!this.isIgnoringMouseUp||"mouseup"!=c.type){var e=b.getPointerPoint(d),f=this.tapElement.getBoundingClientRect(),g=a.pageXOffset,h=a.pageYOffset;if(e.x>=f.left+g&&e.x<=f.right+g&&e.y>=f.top+h&&e.y<=f.bottom+h&&this.emitEvent("tap",[c,d]),"mouseup"!=c.type){this.isIgnoringMouseUp=!0;var i=this;setTimeout(function(){delete i.isIgnoringMouseUp},400)}}},d.destroy=function(){this.pointerDone(),this.unbindTap()},c}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(c,d,e){return b(a,c,d,e)}):"object"==typeof module&&module.exports?module.exports=b(a,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):b(a,a.Flickity,a.TapListener,a.fizzyUIUtils)}(window,function(a,b,c,d){"use strict";function e(a,b){this.direction=a,this.parent=b,this._create()}function f(a){return"string"==typeof a?a:"M "+a.x0+",50 L "+a.x1+","+(a.y1+50)+" L "+a.x2+","+(a.y2+50)+" L "+a.x3+",50  L "+a.x2+","+(50-a.y2)+" L "+a.x1+","+(50-a.y1)+" Z"}var g="http://www.w3.org/2000/svg";e.prototype=new c,e.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var a=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==a;var b=this.element=document.createElement("button");b.className="flickity-prev-next-button",b.className+=this.isPrevious?" previous":" next",b.setAttribute("type","button"),this.disable(),b.setAttribute("aria-label",this.isPrevious?"previous":"next");var c=this.createSVG();b.appendChild(c),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},e.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},e.prototype.deactivate=function(){this.parent.element.removeChild(this.element),c.prototype.destroy.call(this),this.element.removeEventListener("click",this)},e.prototype.createSVG=function(){var a=document.createElementNS(g,"svg");a.setAttribute("viewBox","0 0 100 100");var b=document.createElementNS(g,"path"),c=f(this.parent.options.arrowShape);return b.setAttribute("d",c),b.setAttribute("class","arrow"),this.isLeft||b.setAttribute("transform","translate(100, 100) rotate(180) "),a.appendChild(b),a},e.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var a=this.isPrevious?"previous":"next";this.parent[a]()}},e.prototype.handleEvent=d.handleEvent,e.prototype.onclick=function(){var a=document.activeElement;a&&a==this.element&&this.onTap()},e.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},e.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},e.prototype.update=function(){var a=this.parent.slides;if(this.parent.options.wrapAround&&a.length>1)return void this.enable();var b=a.length?a.length-1:0,c=this.isPrevious?0:b;this[this.parent.selectedIndex==c?"disable":"enable"]()},e.prototype.destroy=function(){this.deactivate()},d.extend(b.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),b.createMethods.push("_createPrevNextButtons");var h=b.prototype;return h._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new e(-1,this),this.nextButton=new e(1,this),this.on("activate",this.activatePrevNextButtons))},h.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},h.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},b.PrevNextButton=e,b}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(c,d,e){return b(a,c,d,e)}):"object"==typeof module&&module.exports?module.exports=b(a,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):b(a,a.Flickity,a.TapListener,a.fizzyUIUtils)}(window,function(a,b,c,d){function e(a){this.parent=a,this._create()}e.prototype=new c,e.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},e.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},e.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),c.prototype.destroy.call(this)},e.prototype.setDots=function(){var a=this.parent.slides.length-this.dots.length;a>0?this.addDots(a):a<0&&this.removeDots(-a)},e.prototype.addDots=function(a){for(var b=document.createDocumentFragment(),c=[];a;){var d=document.createElement("li");d.className="dot",b.appendChild(d),c.push(d),a--}this.holder.appendChild(b),this.dots=this.dots.concat(c)},e.prototype.removeDots=function(a){this.dots.splice(this.dots.length-a,a).forEach(function(a){this.holder.removeChild(a)},this)},e.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot"),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected")},e.prototype.onTap=function(a){var b=a.target;if("LI"==b.nodeName){this.parent.uiChange();var c=this.dots.indexOf(b);this.parent.select(c)}},e.prototype.destroy=function(){this.deactivate()},b.PageDots=e,d.extend(b.defaults,{pageDots:!0}),b.createMethods.push("_createPageDots");var f=b.prototype;return f._createPageDots=function(){this.options.pageDots&&(this.pageDots=new e(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},f.activatePageDots=function(){this.pageDots.activate()},f.updateSelectedPageDots=function(){this.pageDots.updateSelected()},f.updatePageDots=function(){this.pageDots.setDots()},f.deactivatePageDots=function(){this.pageDots.deactivate()},b.PageDots=e,b}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],function(a,c,d){return b(a,c,d)}):"object"==typeof module&&module.exports?module.exports=b(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):b(a.EvEmitter,a.fizzyUIUtils,a.Flickity)}(window,function(a,b,c){function d(a){this.parent=a,this.state="stopped",f&&(this.onVisibilityChange=function(){this.visibilityChange()}.bind(this),this.onVisibilityPlay=function(){this.visibilityPlay()}.bind(this))}var e,f;"hidden"in document?(e="hidden",f="visibilitychange"):"webkitHidden"in document&&(e="webkitHidden",f="webkitvisibilitychange"),d.prototype=Object.create(a.prototype),d.prototype.play=function(){if("playing"!=this.state){var a=document[e];if(f&&a)return void document.addEventListener(f,this.onVisibilityPlay);this.state="playing",f&&document.addEventListener(f,this.onVisibilityChange),this.tick()}},d.prototype.tick=function(){if("playing"==this.state){var a=this.parent.options.autoPlay;a="number"==typeof a?a:3e3;var b=this;this.clear(),this.timeout=setTimeout(function(){b.parent.next(!0),b.tick()},a)}},d.prototype.stop=function(){this.state="stopped",this.clear(),f&&document.removeEventListener(f,this.onVisibilityChange)},d.prototype.clear=function(){clearTimeout(this.timeout)},d.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},d.prototype.unpause=function(){"paused"==this.state&&this.play()},d.prototype.visibilityChange=function(){this[document[e]?"pause":"unpause"]()},d.prototype.visibilityPlay=function(){this.play(),document.removeEventListener(f,this.onVisibilityPlay)},b.extend(c.defaults,{pauseAutoPlayOnHover:!0}),c.createMethods.push("_createPlayer");var g=c.prototype;return g._createPlayer=function(){this.player=new d(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},g.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},g.playPlayer=function(){this.player.play()},g.stopPlayer=function(){this.player.stop()},g.pausePlayer=function(){this.player.pause()},g.unpausePlayer=function(){this.player.unpause()},g.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},g.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},g.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},c.Player=d,c}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(c,d){return b(a,c,d)}):"object"==typeof module&&module.exports?module.exports=b(a,require("./flickity"),require("fizzy-ui-utils")):b(a,a.Flickity,a.fizzyUIUtils)}(window,function(a,b,c){function d(a){var b=document.createDocumentFragment();return a.forEach(function(a){b.appendChild(a.element)}),b}var e=b.prototype;return e.insert=function(a,b){var c=this._makeCells(a);if(c&&c.length){var e=this.cells.length;b=void 0===b?e:b;var f=d(c),g=b==e;if(g)this.slider.appendChild(f);else{var h=this.cells[b].element;this.slider.insertBefore(f,h)}if(0===b)this.cells=c.concat(this.cells);else if(g)this.cells=this.cells.concat(c);else{var i=this.cells.splice(b,e-b);this.cells=this.cells.concat(c).concat(i)}this._sizeCells(c);var j=b>this.selectedIndex?0:c.length;this._cellAddedRemoved(b,j)}},e.append=function(a){this.insert(a,this.cells.length)},e.prepend=function(a){this.insert(a,0)},e.remove=function(a){var b,d,e=this.getCells(a),f=0,g=e.length;for(b=0;b<g;b++){d=e[b];f-=this.cells.indexOf(d)<this.selectedIndex?1:0}for(b=0;b<g;b++)d=e[b],d.remove(),c.removeFrom(this.cells,d);e.length&&this._cellAddedRemoved(0,f)},e._cellAddedRemoved=function(a,b){b=b||0,this.selectedIndex+=b,this.selectedIndex=Math.max(0,Math.min(this.slides.length-1,this.selectedIndex)),this.cellChange(a,!0),this.emitEvent("cellAddedRemoved",[a,b])},e.cellSizeChange=function(a){var b=this.getCell(a);if(b){b.getSize();var c=this.cells.indexOf(b);this.cellChange(c)}},e.cellChange=function(a,b){var c=this.slideableWidth;if(this._positionCells(a),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("cellChange",[a]),this.options.freeScroll){var d=c-this.slideableWidth;this.x+=d*this.cellAlign,this.positionSlider()}else b&&this.positionSliderAtSelected(),this.select(this.selectedIndex)},b}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(c,d){return b(a,c,d)}):"object"==typeof module&&module.exports?module.exports=b(a,require("./flickity"),require("fizzy-ui-utils")):b(a,a.Flickity,a.fizzyUIUtils)}(window,function(a,b,c){"use strict";function d(a){if("IMG"==a.nodeName&&a.getAttribute("data-flickity-lazyload"))return[a];var b=a.querySelectorAll("img[data-flickity-lazyload]");return c.makeArray(b)}function e(a,b){this.img=a,this.flickity=b,this.load()}b.createMethods.push("_createLazyload");var f=b.prototype;return f._createLazyload=function(){this.on("select",this.lazyLoad)},f.lazyLoad=function(){var a=this.options.lazyLoad;if(a){var b="number"==typeof a?a:0,c=this.getAdjacentCellElements(b),f=[];c.forEach(function(a){var b=d(a);f=f.concat(b)}),f.forEach(function(a){new e(a,this)},this)}},e.prototype.handleEvent=c.handleEvent,e.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.img.getAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload")},e.prototype.onload=function(a){this.complete(a,"flickity-lazyloaded")},e.prototype.onerror=function(a){this.complete(a,"flickity-lazyerror")},e.prototype.complete=function(a,b){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var c=this.flickity.getParentCell(this.img),d=c&&c.element;this.flickity.cellSizeChange(d),this.img.classList.add(b),this.flickity.dispatchEvent("lazyLoad",a,d)},b.LazyLoader=e,b}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],b):"object"==typeof module&&module.exports&&(module.exports=b(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(a){return a}),function(a,b){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],b):"object"==typeof module&&module.exports?module.exports=b(require("flickity"),require("fizzy-ui-utils")):a.Flickity=b(a.Flickity,a.fizzyUIUtils)}(window,function(a,b){function c(a,b,c){return(b-a)*c+a}a.createMethods.push("_createAsNavFor");var d=a.prototype;return d._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var a=this.options.asNavFor;if(a){var b=this;setTimeout(function(){b.setNavCompanion(a)})}},d.setNavCompanion=function(c){c=b.getQueryElement(c);var d=a.data(c);if(d&&d!=this){this.navCompanion=d;var e=this;this.onNavCompanionSelect=function(){e.navCompanionSelect()},d.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},d.navCompanionSelect=function(a){if(this.navCompanion){var b=this.navCompanion.selectedCells[0],d=this.navCompanion.cells.indexOf(b),e=d+this.navCompanion.selectedCells.length-1,f=Math.floor(c(d,e,this.navCompanion.cellAlign));if(this.selectCell(f,!1,a),this.removeNavSelectedElements(),!(f>=this.cells.length)){var g=this.cells.slice(d,e+1);this.navSelectedElements=g.map(function(a){return a.element}),this.changeNavSelectedClass("add")}}},d.changeNavSelectedClass=function(a){this.navSelectedElements.forEach(function(b){b.classList[a]("is-nav-selected")})},d.activateAsNavFor=function(){this.navCompanionSelect(!0)},d.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},d.onNavStaticClick=function(a,b,c,d){"number"==typeof d&&this.navCompanion.selectCell(d)},d.deactivateAsNavFor=function(){this.removeNavSelectedElements()},d.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},a}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter")):a.imagesLoaded=b(a,a.EvEmitter)}(window,function(a,b){function c(a,b){for(var c in b)a[c]=b[c];return a}function d(a){var b=[];if(Array.isArray(a))b=a;else if("number"==typeof a.length)for(var c=0;c<a.length;c++)b.push(a[c]);else b.push(a);return b}function e(a,b,f){return this instanceof e?("string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=d(a),this.options=c({},this.options),"function"==typeof b?f=b:c(this.options,b),f&&this.on("always",f),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(function(){this.check()}.bind(this))):new e(a,b,f)}function f(a){this.img=a}function g(a,b){this.url=a,this.element=b,this.img=new Image}var h=a.jQuery,i=a.console;e.prototype=Object.create(b.prototype),e.prototype.options={},e.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},e.prototype.addElementImages=function(a){"IMG"==a.nodeName&&this.addImage(a),!0===this.options.background&&this.addElementBackgroundImages(a);var b=a.nodeType;if(b&&j[b]){for(var c=a.querySelectorAll("img"),d=0;d<c.length;d++){var e=c[d];this.addImage(e)}if("string"==typeof this.options.background){var f=a.querySelectorAll(this.options.background);for(d=0;d<f.length;d++){var g=f[d];this.addElementBackgroundImages(g)}}}};var j={1:!0,9:!0,11:!0};return e.prototype.addElementBackgroundImages=function(a){var b=getComputedStyle(a);if(b)for(var c=/url\((['"])?(.*?)\1\)/gi,d=c.exec(b.backgroundImage);null!==d;){var e=d&&d[2];e&&this.addBackground(e,a),d=c.exec(b.backgroundImage)}},e.prototype.addImage=function(a){var b=new f(a);this.images.push(b)},e.prototype.addBackground=function(a,b){var c=new g(a,b);this.images.push(c)},e.prototype.check=function(){function a(a,c,d){setTimeout(function(){b.progress(a,c,d)})}var b=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(b){b.once("progress",a),b.check()}):void this.complete()},e.prototype.progress=function(a,b,c){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded,this.emitEvent("progress",[this,a,b]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,a),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+c,a,b)},e.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(a,[this]),this.emitEvent("always",[this]),this.jqDeferred){var b=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[b](this)}},f.prototype=Object.create(b.prototype),f.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},f.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},f.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.img,b])},f.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},f.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},f.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},f.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},g.prototype=Object.create(f.prototype),g.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},g.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},g.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.element,b])},e.makeJQueryPlugin=function(b){(b=b||a.jQuery)&&(h=b,h.fn.imagesLoaded=function(a,b){return new e(this,a,b).jqDeferred.promise(h(this))})},e.makeJQueryPlugin(),e}),function(a,b){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(c,d){return b(a,c,d)}):"object"==typeof module&&module.exports?module.exports=b(a,require("flickity"),require("imagesloaded")):a.Flickity=b(a,a.Flickity,a.imagesLoaded)}(window,function(a,b,c){"use strict";b.createMethods.push("_createImagesLoaded");var d=b.prototype;return d._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},d.imagesLoaded=function(){function a(a,c){var d=b.getParentCell(c.img);b.cellSizeChange(d&&d.element),b.options.freeScroll||b.positionSliderAtSelected()}if(this.options.imagesLoaded){var b=this;c(this.slider).on("progress",a)}},b});var $jscomp$this=this;!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b():a.anime=b()}(this,function(){function a(a){if(!J.col(a))try{return document.querySelectorAll(a)}catch(b){}}function b(a){return a.reduce(function(a,c){return a.concat(J.arr(c)?b(c):c)},[])}function c(b){return J.arr(b)?b:(J.str(b)&&(b=a(b)||b),b instanceof NodeList||b instanceof HTMLCollection?[].slice.call(b):[b])}function d(a,b){return a.some(function(a){return a===b})}function e(a){var b,c={};for(b in a)c[b]=a[b];return c}function f(a,b){var c,d=e(a);for(c in a)d[c]=b.hasOwnProperty(c)?b[c]:a[c];return d}function g(a,b){var c,d=e(a);for(c in b)d[c]=J.und(a[c])?b[c]:a[c];return d}function h(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,c,d){return b+b+c+c+d+d});var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);a=parseInt(b[1],16);var c=parseInt(b[2],16),b=parseInt(b[3],16);return"rgb("+a+","+c+","+b+")"}function i(a){function b(a,b,c){return 0>c&&(c+=1),1<c&&--c,c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var c=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(a);a=parseInt(c[1])/360;var d=parseInt(c[2])/100,c=parseInt(c[3])/100;if(0==d)d=c=a=c;else{var e=.5>c?c*(1+d):c+d-c*d,f=2*c-e,d=b(f,e,a+1/3),c=b(f,e,a);a=b(f,e,a-1/3)}return"rgb("+255*d+","+255*c+","+255*a+")"}function j(a){if(a=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg|rad|turn)?/.exec(a))return a[2]}function k(a){return-1<a.indexOf("translate")?"px":-1<a.indexOf("rotate")||-1<a.indexOf("skew")?"deg":void 0}function l(a,b){return J.fnc(a)?a(b.target,b.id,b.total):a}
function m(a,b){if(b in a.style)return getComputedStyle(a).getPropertyValue(b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function n(a,b){return J.dom(a)&&d(I,b)?"transform":J.dom(a)&&(a.getAttribute(b)||J.svg(a)&&a[b])?"attribute":J.dom(a)&&"transform"!==b&&m(a,b)?"css":null!=a[b]?"object":void 0}function o(a,b){var c=k(b),c=-1<b.indexOf("scale")?1:0+c;if(!(a=a.style.transform))return c;for(var d=[],e=[],f=[],g=/(\w+)\((.+?)\)/g;d=g.exec(a);)e.push(d[1]),f.push(d[2]);return a=f.filter(function(a,c){return e[c]===b}),a.length?a[0]:c}function p(a,b){switch(n(a,b)){case"transform":return o(a,b);case"css":return m(a,b);case"attribute":return a.getAttribute(b)}return a[b]||0}function q(a,b){var c=/^(\*=|\+=|-=)/.exec(a);if(!c)return a;switch(b=parseFloat(b),a=parseFloat(a.replace(c[0],"")),c[0][0]){case"+":return b+a;case"-":return b-a;case"*":return b*a}}function r(a){return J.obj(a)&&a.hasOwnProperty("totalLength")}function s(a,b){function c(c){return c=void 0===c?0:c,a.el.getPointAtLength(1<=b+c?b+c:0)}var d=c(),e=c(-1),f=c(1);switch(a.property){case"x":return d.x;case"y":return d.y;case"angle":return 180*Math.atan2(f.y-e.y,f.x-e.x)/Math.PI}}function t(a,b){var c=/-?\d*\.?\d+/g;if(a=r(a)?a.totalLength:a,J.col(a))b=J.rgb(a)?a:J.hex(a)?h(a):J.hsl(a)?i(a):void 0;else{var d=j(a);a=d?a.substr(0,a.length-d.length):a,b=b?a+b:a}return b+="",{original:b,numbers:b.match(c)?b.match(c).map(Number):[0],strings:b.split(c)}}function u(a,b){return b.reduce(function(b,c,d){return b+a[d-1]+c})}function v(a){return(a?b(J.arr(a)?a.map(c):c(a)):[]).filter(function(a,b,c){return c.indexOf(a)===b})}function w(a){var b=v(a);return b.map(function(a,c){return{target:a,id:c,total:b.length}})}function x(a,b){var d=e(b);if(J.arr(a)){var f=a.length;2!==f||J.obj(a[0])?J.fnc(b.duration)||(d.duration=b.duration/f):a={value:a}}return c(a).map(function(a,c){return c=c?0:b.delay,a=J.obj(a)&&!r(a)?a:{value:a},J.und(a.delay)&&(a.delay=c),a}).map(function(a){return g(a,d)})}function y(a,b){var c,d={};for(c in a){var e=l(a[c],b);J.arr(e)&&(e=e.map(function(a){return l(a,b)}),1===e.length&&(e=e[0])),d[c]=e}return d.duration=parseFloat(d.duration),d.delay=parseFloat(d.delay),d}function z(a){return J.arr(a)?K.apply(this,a):L[a]}function A(a,b){var c;return a.tweens.map(function(d){d=y(d,b);var e=d.value,f=p(b.target,a.name),g=c?c.to.original:f,g=J.arr(e)?e[0]:g,h=q(J.arr(e)?e[1]:e,g),f=j(h)||j(g)||j(f);return d.isPath=r(e),d.from=t(g,f),d.to=t(h,f),d.start=c?c.end:a.offset,d.end=d.start+d.delay+d.duration,d.easing=z(d.easing),d.elasticity=(1e3-Math.min(Math.max(d.elasticity,1),999))/1e3,J.col(d.from.original)&&(d.round=1),c=d})}function B(a,c){return b(a.map(function(a){return c.map(function(b){var c=n(a.target,b.name);if(c){var d=A(b,a);b={type:c,property:b.name,animatable:a,tweens:d,duration:d[d.length-1].end,delay:d[0].delay}}else b=void 0;return b})})).filter(function(a){return!J.und(a)})}function C(a,b,c){var d="delay"===a?Math.min:Math.max;return b.length?d.apply(Math,b.map(function(b){return b[a]})):c[a]}function D(a){var b,c=f(G,a),d=f(H,a),e=w(a.targets),h=[],i=g(c,d);for(b in a)i.hasOwnProperty(b)||"targets"===b||h.push({name:b,offset:i.offset,tweens:x(a[b],d)});return a=B(e,h),g(c,{children:[],animatables:e,animations:a,duration:C("duration",a,d),delay:C("delay",a,d)})}function E(a){function b(){return window.Promise&&new Promise(function(a){return k=a})}function c(a){return n.reversed?n.duration-a:a}function d(a){for(var b=0,c={},d=n.animations,e={};b<d.length;){var f=d[b],g=f.animatable,h=f.tweens;e.tween=h.filter(function(b){return a<b.end})[0]||h[h.length-1],e.isPath$1=e.tween.isPath,e.round=e.tween.round,e.eased=e.tween.easing(Math.min(Math.max(a-e.tween.start-e.tween.delay,0),e.tween.duration)/e.tween.duration,e.tween.elasticity),h=u(e.tween.to.numbers.map(function(a){return function(b,c){return c=a.isPath$1?0:a.tween.from.numbers[c],b=c+a.eased*(b-c),a.isPath$1&&(b=s(a.tween.value,b)),a.round&&(b=Math.round(b*a.round)/a.round),b}}(e)),e.tween.to.strings),M[f.type](g.target,f.property,h,c,g.id),f.currentValue=h,b++,e={isPath$1:e.isPath$1,tween:e.tween,eased:e.eased,round:e.round}}if(c)for(var i in c)F||(F=m(document.body,"transform")?"transform":"-webkit-transform"),n.animatables[i].target.style[F]=c[i].join(" ");n.currentTime=a,n.progress=a/n.duration*100}function e(a){n[a]&&n[a](n)}function f(){n.remaining&&!0!==n.remaining&&n.remaining--}function g(a){var g=n.duration,m=n.offset,o=n.delay,p=n.currentTime,q=n.reversed,r=c(a),r=Math.min(Math.max(r,0),g);if(n.children){var s=n.children;if(r>=n.currentTime)for(var t=0;t<s.length;t++)s[t].seek(r);else for(t=s.length;t--;)s[t].seek(r)}r>m&&r<g?(d(r),!n.began&&r>=o&&(n.began=!0,e("begin")),e("run")):(r<=m&&0!==p&&(d(0),q&&f()),r>=g&&p!==g&&(d(g),q||f())),a>=g&&(n.remaining?(i=h,"alternate"===n.direction&&(n.reversed=!n.reversed)):(n.pause(),"Promise"in window&&(k(),l=b()),n.completed||(n.completed=!0,e("complete"))),j=0),e("update")}a=void 0===a?{}:a;var h,i,j=0,k=null,l=b(),n=D(a);return n.reset=function(){var a=n.direction,b=n.loop;for(n.currentTime=0,n.progress=0,n.paused=!0,n.began=!1,n.completed=!1,n.reversed="reverse"===a,n.remaining="alternate"===a&&1===b?2:b,a=n.children.length;a--;)b=n.children[a],b.seek(b.offset),b.reset()},n.tick=function(a){h=a,i||(i=h),g((j+h-i)*E.speed)},n.seek=function(a){g(c(a))},n.pause=function(){var a=N.indexOf(n);-1<a&&N.splice(a,1),n.paused=!0},n.play=function(){n.paused&&(n.paused=!1,i=0,j=c(n.currentTime),N.push(n),O||P())},n.reverse=function(){n.reversed=!n.reversed,i=0,j=c(n.currentTime)},n.restart=function(){n.pause(),n.reset(),n.play()},n.finished=l,n.reset(),n.autoplay&&n.play(),n}var F,G={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},H={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},I="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY".split(" "),J={arr:function(a){return Array.isArray(a)},obj:function(a){return-1<Object.prototype.toString.call(a).indexOf("Object")},svg:function(a){return a instanceof SVGElement},dom:function(a){return a.nodeType||J.svg(a)},str:function(a){return"string"==typeof a},fnc:function(a){return"function"==typeof a},und:function(a){return void 0===a},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},rgb:function(a){return/^rgb/.test(a)},hsl:function(a){return/^hsl/.test(a)},col:function(a){return J.hex(a)||J.rgb(a)||J.hsl(a)}},K=function(){function a(a,b,c){return(((1-3*c+3*b)*a+(3*c-6*b))*a+3*b)*a}return function(b,c,d,e){if(0<=b&&1>=b&&0<=d&&1>=d){var f=new Float32Array(11);if(b!==c||d!==e)for(var g=0;11>g;++g)f[g]=a(.1*g,b,d);return function(g){if(b===c&&d===e)return g;if(0===g)return 0;if(1===g)return 1;for(var h=0,i=1;10!==i&&f[i]<=g;++i)h+=.1;--i;var i=h+(g-f[i])/(f[i+1]-f[i])*.1,j=3*(1-3*d+3*b)*i*i+2*(3*d-6*b)*i+3*b;if(.001<=j){for(h=0;4>h&&0!==(j=3*(1-3*d+3*b)*i*i+2*(3*d-6*b)*i+3*b);++h)var k=a(i,b,d)-g,i=i-k/j;g=i}else if(0===j)g=i;else{var i=h,h=h+.1,l=0;do{k=i+(h-i)/2,j=a(k,b,d)-g,0<j?h=k:i=k}while(1e-7<Math.abs(j)&&10>++l);g=k}return a(g,c,e)}}}}(),L=function(){function a(a,b){return 0===a||1===a?a:-Math.pow(2,10*(a-1))*Math.sin(2*(a-1-b/(2*Math.PI)*Math.asin(1))*Math.PI/b)}var b,c="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),d={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],a],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(b,c){return 1-a(1-b,c)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(b,c){return.5>b?a(2*b,c)/2:1-a(-2*b+2,c)/2}]},e={linear:K(.25,.25,.75,.75)},f={};for(b in d)f.type=b,d[f.type].forEach(function(a){return function(b,d){e["ease"+a.type+c[d]]=J.fnc(b)?b:K.apply($jscomp$this,b)}}(f)),f={type:f.type};return e}(),M={css:function(a,b,c){return a.style[b]=c},attribute:function(a,b,c){return a.setAttribute(b,c)},object:function(a,b,c){return a[b]=c},transform:function(a,b,c,d,e){d[e]||(d[e]=[]),d[e].push(b+"("+c+")")}},N=[],O=0,P=function(){function a(){O=requestAnimationFrame(b)}function b(b){var c=N.length;if(c){for(var d=0;d<c;)N[d]&&N[d].tick(b),d++;a()}else cancelAnimationFrame(O),O=0}return a}();return E.version="2.0.2",E.speed=1,E.running=N,E.remove=function(a){a=v(a);for(var b=N.length;b--;)for(var c=N[b],e=c.animations,f=e.length;f--;)d(a,e[f].animatable.target)&&(e.splice(f,1),e.length||c.pause())},E.getValue=p,E.path=function(b,c){var d=J.str(b)?a(b)[0]:b,e=c||100;return function(a){return{el:d,property:a,totalLength:d.getTotalLength()*(e/100)}}},E.setDashoffset=function(a){var b=a.getTotalLength();return a.setAttribute("stroke-dasharray",b),b},E.bezier=K,E.easings=L,E.timeline=function(a){var b=E(a);return b.pause(),b.duration=0,b.add=function(a){return b.children.forEach(function(a){a.began=!0,a.completed=!0}),c(a).forEach(function(a){var c=b.duration,d=a.offset;a.autoplay=!1,a.offset=J.und(d)?c:q(d,c),b.seek(a.offset),a=E(a),a.duration>c&&(b.duration=a.duration),a.began=!0,b.children.push(a)}),b.reset(),b.seek(0),b.autoplay&&b.restart(),b},b},E.random=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},E});var cookies=function(a,b){function c(a,b){a=a||{};for(var c in b)void 0===a[c]&&(a[c]=b[c]);return a}function d(a){var b=a;return b instanceof Date||(b=new Date,b.setTime(b.getTime()+1e3*a)),b.toUTCString()}if(c(cookies,{expires:31536e3,path:"/",secure:"https:"===window.location.protocol,nulltoremove:!0,autojson:!0,autoencode:!0,encode:function(a){return encodeURIComponent(a)},decode:function(a){return decodeURIComponent(a)},error:function(a,b,c){throw new Error(a)},fallback:!1}),b=c(b,cookies),"string"==typeof a){var e=document.cookie.split(/;\s*/).map(b.autoencode?b.decode:function(a){return a}).map(function(a){return a.split("=")}).reduce(function(a,b){return a[b[0]]=b.splice(1).join("="),a},{})[a];if(!b.autojson)return e;var f;try{f=JSON.parse(e)}catch(n){f=e}return void 0===f&&b.fallback&&(f=b.fallback(a,b)),f}for(var g in a){var h=a[g],i=void 0===h||b.nulltoremove&&null===h,j=b.autojson?JSON.stringify(h):h,k=b.autoencode?b.encode(j):j;i&&(k="");var l=b.encode(g)+"="+k+(b.expires?";expires="+d(i?-1e4:b.expires):"")+";path="+b.path+(b.domain?";domain="+b.domain:"")+(b.secure?";secure":"");b.test&&b.test(l),document.cookie=l;var m=cookies(b.encode(g))||"";h&&!i&&b.expires>0&&JSON.stringify(m)!==JSON.stringify(h)&&(navigator.cookieEnabled?b.fallback?b.fallback(a,b):b.error("Cookie too large at "+h.length+" characters"):b.error("Cookies not enabled"))}return cookies};!function(a){"object"==typeof exports&&"object"==typeof module?module.exports=cookies:"function"==typeof define&&define.amd?define("cookies",[],cookies):"object"==typeof exports?exports.cookies=cookies:a.cookies=cookies}(this),function(a){"use strict";function b(a){return a.getBoundingClientRect()}function c(a){function c(a,b){var c=m[b],e=l[b];a.is_vert?l[b]+=2*h:a.is_hor?(l[b]+=h,b+1<l.length&&(l[b+1]+=h)):a.is_big?(l[b]+=2*h,b+1<l.length&&(l[b+1]+=2*h)):l[b]+=h,a.el.style.position="absolute",a.el.style[d]="translate("+c+"px,"+e+"px)"}if(!d)return!1;var e=a.cont instanceof Node?a.cont:$(a.cont);if(!e)return!1;var f=$$(a.item,e);if(e.style.width="",e.style.width=e.clientWidth+"px",0===f.length)return e.style.height="0px",ffclass.add(e.parentNode,"is-empty"),!1;ffclass.remove(e.parentNode,"is-empty"),ffclass.remove(f,"grid_i-classic"),f=f.map(function(a){return{el:a,is_vert:ffclass.has(a,"grid_i-vert"),is_hor:ffclass.has(a,"grid_i-hor"),is_big:ffclass.has(a,"grid_i-big")}});var g=0,h=0;f[0].is_vert?(g=b(f[0].el).width,h=.5*b(f[0].el).height):f[0].is_hor?(g=.5*b(f[0].el).width,h=b(f[0].el).height):f[0].is_big?(g=.5*b(f[0].el).width,h=.5*b(f[0].el).height):(g=b(f[0].el).width,h=b(f[0].el).height);for(var i=b(e).width,j=Math.max(Math.round(i/g),1),k=f.length,l=[],m=[],n=0;n<j;++n)m.push(n*g),l.push(0);for(var o=[],p=0,q=0;q<k;){var r=l.slice(0).sort(function(a,b){return a-b}).shift();r=l.indexOf(r);var s=r<j-1&&Math.abs(l[r]-l[r+1])<5;if(s&&o.length){var t=o.shift();c(t,r),q++}else if(p<k){var t=f[p];p++,t.is_hor||t.is_big?s?(c(t,r),q++):o.push(t):(c(t,r),q++)}else o.length&&o.forEach(function(a){a.is_vert=!1,a.is_hor=!1,a.is_big=!1,ffclass.add(a.el,"grid_i-classic"),c(a,r),q++})}var u=l.slice(0).sort(function(a,b){return a-b}).pop();e.style.height=u+"px"}var d;!function(){var a,b=document.createElement("a").style;void 0!==b[a="webkitTransform"]&&(d=a),void 0!==b[a="msTransform"]&&(d=a),void 0!==b[a="transform"]&&(d=a)}(),a.ffgrid=c}(this),function(a){"use strict";function b(a,b){var c=document.createElement("img");c.src=a,c.style.display="none",document.body.appendChild(c),imagesLoaded(c).on("progress",function(a,c){if(c.isLoaded){var f=document.createElement("canvas");f.width=c.img.width*(d?.5:1),f.height=c.img.height*(e?.5:1);var g=f.getContext("2d");g.drawImage(c.img,0,e?-1*f.height:0);for(var h,i,j,k,l=g.getImageData(0,0,f.width,f.height),m=l.data,n=0,o=0,p=0,q=m.length;p<q;p+=4)h=m[p],i=m[p+1],j=m[p+2],k=Math.max(Math.max(h,i),j),k<128?o++:n++;var r=(n-o)/(c.img.width*c.img.height);b(r+-.15<0),c.img.remove()}})}function c(a){$$(".js-is-dark img").forEach(function(c){var d=c.hasAttribute("src")?c.getAttribute("src"):!!c.hasAttribute("src")&&c.getAttribute("data-src");d&&b(d,function(b){a(c,b)})})}var d=!0,e=!0;a.isDark={single:b,init:c}}(this),function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d,e=b.documentElement,f=a.Date,g=a.HTMLPictureElement,h="addEventListener",i="getAttribute",j=a[h],k=a.setTimeout,l=a.requestAnimationFrame||k,m=a.requestIdleCallback,n=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],p={},q=Array.prototype.forEach,r=function(a,b){return p[b]||(p[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),p[b].test(a[i]("class")||"")&&p[b]},s=function(a,b){r(a,b)||a.setAttribute("class",(a[i]("class")||"").trim()+" "+b)},t=function(a,b){var c;(c=r(a,b))&&a.setAttribute("class",(a[i]("class")||"").replace(c," "))},u=function(a,b,c){var d=c?h:"removeEventListener";c&&u(a,b),o.forEach(function(c){a[d](c,b)})},v=function(a,d,e,f,g){var h=b.createEvent("CustomEvent");return e||(e={}),e.instance=c,h.initCustomEvent(d,!f,!g,e),a.dispatchEvent(h),h},w=function(b,c){var e;!g&&(e=a.picturefill||d.pf)?e({reevaluate:!0,elements:[b]}):c&&c.src&&(b.src=c.src)},x=function(a,b){return(getComputedStyle(a,null)||{})[b]},y=function(a,b,c){for(c=c||a.offsetWidth;c<d.minSize&&b&&!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c},z=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?k:l)(g)))};return h._lsFlush=g,h}(),A=function(a,b){return b?function(){z(a)}:function(){var b=this,c=arguments;z(function(){a.apply(b,c)})}},B=function(a){var b,c=0,d=666,e=d,g=function(){b=!1,c=f.now(),a()},h=m?function(){m(g,{timeout:e}),e!==d&&(e=d)}:A(function(){k(g)},!0);return function(a){var d;(a=!0===a)&&(e=44),b||(b=!0,d=125-(f.now()-c),0>d&&(d=0),a||9>d&&m?h():k(h,d))}},C=function(a){var b,c,d=99,e=function(){b=null,a()},g=function(){var a=f.now()-c;d>a?k(g,d-a):(m||e)(e)};return function(){c=f.now(),b||(b=k(g,d))}},D=function(){var c,g,l,m,o,p,y,D,F,G,H,I,J,K,L,M=/^img$/i,N=/^iframe$/i,O="onscroll"in a&&!/glebot/.test(navigator.userAgent),P=0,Q=0,R=0,S=-1,T=function(a){R--,a&&a.target&&u(a.target,T),(!a||0>R||!a.target)&&(R=0)},U=function(a,c){var d,f=a,g="hidden"==x(b.body,"visibility")||"hidden"!=x(a,"visibility");for(F-=c,I+=c,G-=c,H+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=e;)(g=(x(f,"opacity")||1)>0)&&"visible"!=x(f,"overflow")&&(d=f.getBoundingClientRect(),g=H>d.left&&G<d.right&&I>d.top-1&&F<d.bottom+1);return g},V=function(){var a,f,h,j,k,m,n,p,q;if((o=d.loadMode)&&8>R&&(a=c.length)){f=0,S++,null==K&&("expand"in d||(d.expand=e.clientHeight>500&&e.clientWidth>500?500:370),J=d.expand,K=J*d.expFactor),K>Q&&1>R&&S>2&&o>2&&!b.hidden?(Q=K,S=0):Q=o>1&&S>1&&6>R?J:P;for(;a>f;f++)if(c[f]&&!c[f]._lazyRace)if(O)if((p=c[f][i]("data-expand"))&&(m=1*p)||(m=Q),q!==m&&(y=innerWidth+m*L,D=innerHeight+m,n=-1*m,q=m),h=c[f].getBoundingClientRect(),(I=h.bottom)>=n&&(F=h.top)<=D&&(H=h.right)>=n*L&&(G=h.left)<=y&&(I||H||G||F)&&(d.loadHidden||"hidden"!=x(c[f],"visibility"))&&(l&&3>R&&!p&&(3>o||4>S)||U(c[f],m))){if(ba(c[f]),k=!0,R>9)break}else!k&&l&&!j&&4>R&&4>S&&o>2&&(g[0]||d.preloadAfterLoad)&&(g[0]||!p&&(I||H||G||F||"auto"!=c[f][i](d.sizesAttr)))&&(j=g[0]||c[f]);else ba(c[f]);j&&!k&&ba(j)}},W=B(V),X=function(a){s(a.target,d.loadedClass),t(a.target,d.loadingClass),u(a.target,Z)},Y=A(X),Z=function(a){Y({target:a.target})},$=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},_=function(a){var b,c=a[i](d.srcsetAttr);(b=d.customMedia[a[i]("data-media")||a[i]("media")])&&a.setAttribute("media",b),c&&a.setAttribute("srcset",c)},aa=A(function(a,b,c,e,f){var g,h,j,l,o,p;(o=v(a,"lazybeforeunveil",b)).defaultPrevented||(e&&(c?s(a,d.autosizesClass):a.setAttribute("sizes",e)),h=a[i](d.srcsetAttr),g=a[i](d.srcAttr),f&&(j=a.parentNode,l=j&&n.test(j.nodeName||"")),p=b.firesLoad||"src"in a&&(h||g||l),o={target:a},p&&(u(a,T,!0),clearTimeout(m),m=k(T,2500),s(a,d.loadingClass),u(a,Z,!0)),l&&q.call(j.getElementsByTagName("source"),_),h?a.setAttribute("srcset",h):g&&!l&&(N.test(a.nodeName)?$(a,g):a.src=g),f&&(h||l)&&w(a,{src:g})),a._lazyRace&&delete a._lazyRace,t(a,d.lazyClass),z(function(){(!p||a.complete&&a.naturalWidth>1)&&(p?T(o):R--,X(o))},!0)}),ba=function(a){var b,c=M.test(a.nodeName),e=c&&(a[i](d.sizesAttr)||a[i]("sizes")),f="auto"==e;(!f&&l||!c||!a.src&&!a.srcset||a.complete||r(a,d.errorClass))&&(b=v(a,"lazyunveilread").detail,f&&E.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,R++,aa(a,b,f,e,c))},ca=function(){if(!l){if(f.now()-p<999)return void k(ca,999);var a=C(function(){d.loadMode=3,W()});l=!0,d.loadMode=3,W(),j("scroll",function(){3==d.loadMode&&(d.loadMode=2),a()},!0)}};return{_:function(){p=f.now(),c=b.getElementsByClassName(d.lazyClass),g=b.getElementsByClassName(d.lazyClass+" "+d.preloadClass),L=d.hFac,j("scroll",W,!0),j("resize",W,!0),a.MutationObserver?new MutationObserver(W).observe(e,{childList:!0,subtree:!0,attributes:!0}):(e[h]("DOMNodeInserted",W,!0),e[h]("DOMAttrModified",W,!0),setInterval(W,999)),j("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b[h](a,W,!0)}),/d$|^c/.test(b.readyState)?ca():(j("load",ca),b[h]("DOMContentLoaded",W),k(ca,2e4)),c.length?(V(),z._lsFlush()):W()},checkElems:W,unveil:ba}}(),E=function(){var a,c=A(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),n.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;g>f;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||w(a,c.detail)}),e=function(a,b,d){var e,f=a.parentNode;f&&(d=y(a,f,d),e=v(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width)&&d!==a._lazysizesWidth&&c(a,f,e,d))},f=function(){var b,c=a.length;if(c)for(b=0;c>b;b++)e(a[b])},g=C(f);return{_:function(){a=b.getElementsByClassName(d.autosizesClass),j("resize",g)},checkElems:g,updateElem:e}}(),F=function(){F.i||(F.i=!0,E._(),D._())};return function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0};d=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in d||(d[b]=c[b]);a.lazySizesConfig=d,k(function(){d.init&&F()})}(),c={cfg:d,autoSizer:E,loader:D,init:F,uP:w,aC:s,rC:t,hC:r,fire:v,gW:y,rAF:z}}}),function(){"use strict";var a="undefined"==typeof window?{}:window.document,b="undefined"!=typeof module&&module.exports,c="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,d=function(){for(var b,c=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=0,e=c.length,f={};d<e;d++)if((b=c[d])&&b[1]in a){for(d=0;d<b.length;d++)f[c[0][d]]=b[d];return f}return!1}(),e={request:function(b){var e=d.requestFullscreen;b=b||a.documentElement,/5\.1[.\d]* Safari/.test(navigator.userAgent)?b[e]():b[e](c&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){a[d.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(b){a.addEventListener(d.fullscreenchange,b,!1)},onerror:function(b){a.addEventListener(d.fullscreenerror,b,!1)},raw:d};if(!d)return void(b?module.exports=!1:window.screenfull=!1);Object.defineProperties(e,{isFullscreen:{get:function(){return Boolean(a[d.fullscreenElement])}},element:{enumerable:!0,get:function(){return a[d.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(a[d.fullscreenEnabled])}}}),b?module.exports=e:window.screenfull=e}(),function(a){function b(){Va=Xa.innerHeight,Wa=Xa.innerWidth,c()}function c(){db=Xa.pageYOffset<cb,cb=Xa.pageYOffset}function d(a,b,c,d){function e(h){var i=Date.now(),j=Math.min(1,(i-f)/b),k=c(j);yPos=k*(a-g)+g,Xa.scrollTo(0,yPos),j<1?requestAnimationFrame(e):d&&d()}var f=Date.now(),g=Xa.pageYOffset;if(g===a)return void(d&&d());c||(c=jb.linear),requestAnimationFrame(e)}function e(a){return a?decodeURIComponent(a.replace(/\+/g," ")):a}function f(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function g(a){if(!support.objectFit){ffclass.add(Za,"no-objectfit");$$(".js-fit",a||$a).forEach(function(a,b){var c=ffclass.has(a,"js-fit-resize");h(a),c&&Xa.addEventListener("resize",function(){h(a)},!1)})}}function h(a){var b=a.offsetParent,c=a.hasAttribute("width")?parseInt(a.getAttribute("width")):0,d=a.hasAttribute("height")?parseInt(a.getAttribute("height")):0,e=c&&d?d/c:0,f=b?b.clientWidth:0,g=b?b.clientHeight:0,h=f&&g?g/f:0,i=ffclass.has(a,"cv-contain");b||(b=a.closest("[data-ratio]"),h=b?parseFloat(b.getAttribute("data-ratio")):0),e&&h&&(ffclass.remove(a,"cv-forceW"),ffclass.remove(a,"cv-forceH"),i?h<e?ffclass.add(a,"cv-forceH"):ffclass.add(a,"cv-forceW"):h>e?ffclass.add(a,"cv-forceH"):ffclass.add(a,"cv-forceW"))}function i(a){if(a.preventDefault(),!eb){var b=$(this.getAttribute("href"));if(b){var c=b.getBoundingClientRect().top+cb;Math.abs(cb-c)<10||(eb=!0,d(c,500,jb.easeInOutCubic,function(){eb=!1}))}}}function j(a){support.history&&(a.preventDefault(),Xa.history.back())}function k(){!db&&cb>5?ffclass.add(bb,"is-slided"):ffclass.remove(bb,"is-slided")}function l(){if(mb.length&&nb.length&&ob.length)for(var a=0;a<ob.length;a++){var b=ob[a].getBoundingClientRect().top;if(ob[a]!==pb&&b<=5&&b+ob[a].offsetHeight>=5){ffclass.remove(mb,"is-active"),ffclass.add($('[href="#'+ob[a].id+'"]',lb).parentNode,"is-active"),pb=ob[a];break}}}function m(){if(qb&&sb&&tb){ab.addEventListener("click",function(a){a.preventDefault(),xb?xb.seek(xb.duration):ffclass.has(Za,"is-home-loading")||(eb=!0,d(0,500,jb.easeInOutCubic,function(){eb=!1}))},!1),ffclass.add(ab,"is-absolute"),ffclass.add(Za,"is-home-loading"),ub=Ya.createElement("div"),ffclass.add(ub,"overlay"),ffclass.add(ub,"has-loader"),ffclass.add(ub,"is-loading"),$a.appendChild(ub);var a="url("+url.theme+"img/logo_apparition_opt_2.png)",b="url("+url.theme+"img/logo_reduction_opt_2.png)",c=ffclass.has(sb,"logo_img-bg");c&&(sb.style.backgroundImage=a,tb.style.backgroundImage=b);imagesLoaded(ab,{background:!!c&&".logo_img-bg"}).on("done",function(a){n()})}}function n(){anime.easings.step_logo_apparition_easing=function(a){return Math.round(76*a)*(1/76)},xb=anime({targets:sb,translateY:"-100%",easing:"step_logo_apparition_easing",duration:3e3,delay:500,begin:function(a){ub&&ffclass.remove(ub,"is-loading")}}),xb.complete=function(){o()}}function o(){xb=!1,ffclass.remove(Za,"is-home-loading"),Xa.scrollTo(0,0),p(),s(),r(),t()}function p(){if(ub){anime({targets:ub,opacity:0,easing:"easeInOutQuad",duration:1200}).complete=function(){ub.remove()}}}function q(){qb&&(cb>=.25*Va?ffclass.remove(ab,"is-absolute"):ffclass.add(ab,"is-absolute"),cb<=.25*Va&&vb?(vb=!1,wb.play(),wb.reversed||wb.reverse()):cb>5&&!vb&&(vb=!0,wb.play(),wb.reversed&&wb.reverse()))}function r(){anime.easings.step_logo_reduction_easing=function(a){return Math.round(30*a)*(1/30)},wb=anime({targets:tb,translateY:"-"+3e3/31+"%",easing:"step_logo_reduction_easing",duration:800,autoplay:!1})}function s(){if(yb){var a=new ffslider(yb,{btnPrev:!1,btnNext:!1,dots:!1,keys:!1});setInterval(function(){a.next()},5e3)}}function t(a){zb.length&&(a&&a>=0?u(a):zb.forEach(function(a,b){u(b)}))}function u(a){var b=a instanceof Node?a:zb[a].el,c=$$(".homeGrid_col",b);if(!(c.length<2)){c.forEach(function(a){a.removeAttribute("style")});var d=b.offsetHeight;c.forEach(function(a){a.style.height=d+"px"})}}function v(){zb.forEach(function(a){var b=$$(".homeGrid_col",a.el);b.length&&b.forEach(function(a){w(a)})})}function w(a){var b=$(".modDiapo, .modFull",a),c=$(".modVideo",a),d=$(".modPhilo",a),e=$(".modLink",a),f=$(".modNew-pub",a),g=$(".modNew-b",a),h=$$(".modNew-s",a);if(b)$$(".modDiapo_i, .modFull_i",b).forEach(function(a){a.setAttribute("data-color",ffclass.has(a,"bg-black")?"black":"white")});else if(c)c.setAttribute("data-color",ffclass.has(c,"bg-black")?"black":"white");else if(f)f.setAttribute("data-color",ffclass.has(f,"bg-black")?"black":"white");else if(d){var i=$(".modPhilo_cont",d),j=$(".modPhilo_img",d);i&&i.setAttribute("data-color",ffclass.has(d,"bg-black")?"black":"white"),j&&j.setAttribute("data-color","white")}else if(e){var i=$(".modLink_cont",e),j=$(".modLink_img",e);i&&i.setAttribute("data-color",ffclass.has(e,"bg-black")?"black":"white"),j&&j.setAttribute("data-color","white")}else if(g){var i=$(".modNew_cont",g);i&&i.setAttribute("data-color",ffclass.has(i,"bg-black")?"black":"white"),$$(".modNew_img",g).forEach(function(a){a.setAttribute("data-color","white")})}else h.length&&h.forEach(function(a){a.setAttribute("data-color",ffclass.has(a,"bg-black")?"black":"white")})}function x(){zb.forEach(function(a){var b=a.el.offsetHeight,c=b-Va,d=a.el.getBoundingClientRect().top;if(c>0){var e=d>=0&&d<=Va,f=d+b>=0&&d+b<=Va,g=d<0&&d+b>Va,h=e||f||g;a.fixed.length&&(g?a.fixed.forEach(function(a){ffclass.add(a,"is-fixed"),ffclass.remove(a,"is-bottom")}):f?a.fixed.forEach(function(a){ffclass.remove(a,"is-fixed"),ffclass.add(a,"is-bottom")}):a.fixed.forEach(function(a){ffclass.remove(a,"is-fixed"),ffclass.remove(a,"is-bottom")})),h&&a.fullSlider&&(g?ffclass.add(a.fullSlider.el,"has-fixed-bg"):ffclass.remove(a.fullSlider.el,"has-fixed-bg")),a.philo.length&&(g?a.philo.forEach(function(b){var d=b.container.offsetHeight,e=b.slider.offsetHeight,f=(e-d)/c,g=-1*a.el.getBoundingClientRect().top*f;b.slider.style[kb]="translateY("+g+"px)",b.texts.forEach(function(a,c){a.style[kb]="translate(-50%,-50%) translateY("+(-1*g+(c-b.texts.length+1)*(d+10)*-1)+"px)"})}):e?a.philo.forEach(function(a){a.slider.style[kb]="translateY(0px)",a.texts.forEach(function(a,b){a.style[kb]="translate(-50%,-50%) translateY(0px)"})}):f&&a.philo.forEach(function(a){var b=a.container.offsetHeight,c=a.slider.offsetHeight,d=c-b;a.slider.style[kb]="translateY("+d+"px)",a.texts.forEach(function(c,e){c.style[kb]="translate(-50%,-50%) translateY("+(-1*d+(e-a.texts.length+1)*(b+10)*-1)+"px)"})}))}a.fullSlider&&a.fullSlider.lgd&&(d+a.fullSlider.lgd.offsetHeight<=Va&&d+b>=Va?ffclass.add(a.fullSlider.el,"has-lgd-show"):ffclass.remove(a.fullSlider.el,"has-lgd-show"))})}function y(){support.history&&qb&&("state"in a.history&&(Db=!1),z(),Db||a.history.replaceState(Cb,"",Ab),Xa.addEventListener("popstate",function(a){a.state&&Ab!=a.state.url&&(z(a.state),"actu"==Cb.type&&Cb.id_actu?D(Cb.id_actu,Cb.url):"home"==Cb.type&&H(),Cb.title&&(document.title=Cb.title),"undefined"!=typeof ga&&ga("send","pageview",Bb))}))}function z(b){Ab=a.location.href,Bb=Ab.replace(/^(?:\/\/|[^\/]+)*\//,"/"),Cb=b||(a.history.state?a.history.state:{type:"home",title:document.title,url:Ab,id_actu:!1})}function A(b){support.history&&b.url!=a.location.href&&(b.title&&(document.title=b.title),a.history.pushState(b,"",b.url),z(),"undefined"!=typeof ga&&ga("send","pageview",Bb))}function B(a){if(!Eb){var b=$$(".js-actu-link",a||_a);b.length&&b.forEach(function(a,b){a.addEventListener("click",C,!1)})}}function C(a){if(a.preventDefault(),!gb){var b=!!this.hasAttribute("data-id")&&parseInt(this.getAttribute("data-id")),c=!!this.hasAttribute("href")&&this.getAttribute("href"),d=!!this.hasAttribute("data-title")&&this.getAttribute("data-title");b&&c&&D(b,c,d)}}function D(a,b,c){a&&b&&(gb=!0,Fb?F():E(),ffclass.add(Fb,"is-loading"),G(),A({type:"actu",title:c||rb,url:b,id_actu:a}),ff.ajax({url:url.ajax,json:!0,params:"action=get_actu&id_actu="+a,success:function(a){if(a&&a.content){var b=ff.parseHTML(a.content,!0),c=$(".actu_header",b),d=$(".actu_content",b);Fb.appendChild(c),Fb.appendChild(d),Gb=Fb,Hb=!!Gb&&$(".actu_text",Gb),Ib=!!Gb&&$(".actu_imgsWrapper",Gb),Jb=!!Gb&&$(".actu_imgs",Gb),Kb=!!Gb&&$(".actu_header",Gb),I(),g(d)}},always:function(){ffclass.remove(Fb,"is-loading"),setTimeout(function(){gb=!1},50)}}))}function E(){Fb=Ya.createElement("article"),Fb.innerHTML='<a class="actu_close" href="'+url.home+'"><svg xmlns="http://www.w3.org/2000/svg" class="iconSVG-close" viewBox="0 0 14 14" width="14" height="14"><path d="M14 .7l-.7-.7L7 6.3.7 0 0 .7 6.3 7 0 13.3l.7.7L7 7.7l6.3 6.3.7-.7L7.7 7"></path></svg><span class="srOnly">'+strings.close+"</span></a>",Mb=$(".actu_close",Fb),ffclass.add(Fb,"actu"),ffclass.add(Fb,"actu-fs"),ffclass.add(Fb,"has-loader"),ffclass.add(Fb,"has-loader-black"),Mb&&Mb.addEventListener("click",function(a){a.preventDefault(),H()},!1)}function F(){if(Fb){var a=$(".actu_header",Fb),b=$(".actu_content",Fb);a&&a.remove(),b&&b.remove()}}function G(){Fb&&(_a.appendChild(Fb),fb=cb,setTimeout(function(){ffclass.add(Za,"has-actu-open")},50))}function H(){Gb&&!Eb&&(ffclass.remove(Za,"has-actu-open"),J(),setTimeout(function(){Xa.scrollTo(0,fb),Gb.remove(),F(),A({type:"home",title:rb,url:url.home,id_actu:!1}),Gb=!1,Hb=!1,Ib=!1,Jb=!1,Kb=!1},50))}function I(){if(Gb){var a=Eb?Xa:Gb;O(),N(),a.addEventListener("scroll",K,!1)}}function J(){if(Gb){(Eb?Xa:Gb).removeEventListener("scroll",K,!1)}}function K(a){if(Gb&&!Sb){var b=Eb?cb:Gb.scrollTop,c=!a||"scroll"!==a.type;if(Lb.imgs<=Lb.window||Lb.imgs>=Lb.text)return void M();Nb=!0,b>Qb?Ob?(Ob=!1,Rb=Qb,Rb+Lb.imgs<b+Lb.window&&(Rb=b+Lb.window-Lb.imgs),Ib.style.position="absolute",Ib.style.top=Rb+"px",Ib.style.bottom=""):!Pb&&Ib.getBoundingClientRect().top+Lb.imgs<Lb.window&&(Pb=!0,Ib.style.position="fixed",Ib.style.top="",Ib.style.bottom="0px"):b<Qb?Pb?(Pb=!1,Rb=Qb-(Lb.imgs-Lb.window),Rb+Lb.imgs>b+Lb.window&&(Rb=b+Lb.window-Lb.imgs),Ib.style.position="absolute",Ib.style.top=Rb+"px",Ib.style.bottom=""):!Ob&&Ib.getBoundingClientRect().top>=0&&(Ob=!0,Ib.style.position="fixed",Ib.style.top="",Ib.style.bottom=""):c&&(Ob=Pb=!1,Rb=b+Lb.window-Lb.imgs-1,Rb>0?(Ib.style.position="absolute",Ib.style.top=Rb+"px",
Ib.style.bottom=""):M()),Qb=b}}function L(){Lb={window:Va,text:Hb?Hb.clientHeight:0,imgs:Jb?Jb.clientHeight:0}}function M(){Nb&&(Ob=Pb=Nb=!1,Ib.removeAttribute("style"))}function N(){L(),!Sb&&Lb.imgs>Lb.window?(K(),Ib&&ffclass.remove(Ib,"is-sticky")):(Ib&&(Sb?ffclass.remove(Ib,"is-sticky"):ffclass.add(Ib,"is-sticky")),M())}function O(){Sb=Kb&&"static"==Xa.getComputedStyle(Kb,null).getPropertyValue("position"),N()}function P(a){var b=$$(".slider",a||_a);b.length&&b.forEach(function(a,b){Q(a)})}function Q(a){var b=$(".js-smallNav",a.parentNode),c=$$(".js-fullscreen",a.parentNode);if(screenfull.enabled&&c.length&&c.forEach(function(b,c){b.addEventListener("click",function(b){b.preventDefault(),screenfull.toggle(a.parentNode)},!1)}),$$(".slider_i",a).length<2)return void(b&&b.parentNode.remove());var d=new Flickity(a,{cellSelector:".slider_i",setGallerySize:!1,resize:!0,wrapAround:!0,lazyLoad:1,pageDots:!1,arrowShape:"M0,50.4l0-0.7L49.3,1.5l7.8,8.4l-36.4,34H100v12.3H20.7l36.4,34l-7.8,8.4L0,50.4z"}),e=$(".project_nav",a.parentNode);if(e){var f=$$(".is-arrow",e),g=$(".flickity-prev-next-button.previous",a),h=$(".flickity-prev-next-button.next",a);f.length>=2&&g&&h&&(f[0].appendChild(g),f[1].appendChild(h))}R(d),d.on("cellSelect",function(){R(d)}),d.on("lazyLoad",function(a,b){ffclass.remove(b,"is-loading")});var i=$(".sliderNav",a.parentNode);if(i){new Flickity(i,{cellSelector:".sliderNav_i",setGallerySize:!1,resize:!0,cellAlign:"left",contain:!0,imagesLoaded:!0,percentPosition:!1,freeScroll:!0,prevNextButtons:!1,pageDots:!1,asNavFor:a})}b&&b.addEventListener("click",function(b){b.preventDefault(),ffclass.toggle(a.parentNode,"is-nav-visible")},!1)}function R(a){S(a)}function S(a){var b=$(".project_lgd",a.element.parentNode);if(b){var c=a.selectedElement,d=!!c&&$(".slider_lgd",c);d=d?d.innerHTML:"",b.innerHTML=d}}function T(a){$$(".js-show-bio",a||_a).forEach(function(a){U(a)})}function U(a){var b=a,c=b.closest(".js-bio"),d=!!c&&$(".js-bio-txt",c),e=!!c&&c.closest("[data-bio-section]"),f=(!!e&&e.hasAttribute("data-toggle"),$$(".member",e)),g=(f.filter(function(a){return a!==c&&ffclass.has(a,"js-bio")}),c.getAttribute("data-id"));d&&g&&b.addEventListener("click",function(a){if(a.preventDefault(),!Ub){var e=$("#member-fiche-"+g);if(e){ffclass.remove(c,"is-active");var h=anime({targets:e,height:[e.scrollHeight+"px","0px"],easing:"linear",duration:400*e.scrollHeight/1e3});h.begin=function(){Ub=!0},h.complete=function(){if(e.remove(),Ub=!1,Tb){var a=Ya.createEvent("HTMLEvents");a.initEvent("click",!0,!0),Tb.dispatchEvent(a),Tb=!1}}}else{var i=f.filter(function(a){return Math.abs(a.getBoundingClientRect().top-c.getBoundingClientRect().top)<10}),j=i.filter(function(a){return a!==c&&ffclass.has(a,"js-bio")});if(Tb=!1,j.forEach(function(a){var c=a.getAttribute("data-id");if($("#member-fiche-"+c)){Tb=b;var d=Ya.createEvent("HTMLEvents");d.initEvent("click",!0,!0),$(".js-show-bio",a).dispatchEvent(d)}}),Tb)return;if(ffclass.add(c,"is-active"),e=Ya.createElement("div"),ffclass.add(e,"g_i"),ffclass.add(e,"g_i-f"),ffclass.add(e,"member_fiche"),ffclass.add(e,"fiche"),ffclass.add(e,"is-closed"),e.id="member-fiche-"+g,e.innerHTML='<div class="member_ficheInner txt">'+d.innerHTML+"</div>",ff.insertAfter(e,i[i.length-1]),!ffclass.has(e,"is-closed"))return;var k=anime({targets:e,height:["0px",e.scrollHeight+"px"],easing:"linear",duration:400*e.scrollHeight/1e3});k.begin=function(){Ub=!0,ffclass.remove(e,"is-closed")},k.complete=function(){e.style.height="",Ub=!1}}}},!1)}function V(){$$(".member_fiche",_a).forEach(function(a){a.remove()}),$$(".js-bio.is-active",_a).forEach(function(a){ffclass.remove(a,"is-active")})}function W(a){$$(".js-tabSort",a||_a).forEach(function(a){X(a)})}function X(a){var b=$$("tbody tr:not([data-noresult])",a),c=$$("thead th:not([data-noSort])",a);c.map(function(a,b){return $("button",a)}).forEach(function(d,e){d.addEventListener("click",function(f){f.preventDefault(),Y(d,e,c,b,a)},!1)})}function Y(a,b,c,d,e){var f=ffclass.has(e,"table-members"),e=$("tbody",e),g=c[b].hasAttribute("data-desc");g?c[b].removeAttribute("data-desc"):c[b].setAttribute("data-desc","1"),g=!g,c.forEach(function(a,c){c!==b&&a.removeAttribute("data-desc")}),d.sort(function(a,c){var d=$("td:nth-child("+(b+1)+")",a),e=$("td:nth-child("+(b+1)+")",c),h=!f&&b+1===5,i=e.textContent===d.textContent;return g?i&&!h?f?$("td:nth-child(1)",c).textContent.localeCompare($("td:nth-child(1)",a).textContent):$("td:nth-child(5)",c).textContent===$("td:nth-child(5)",a).textContent?$("td:nth-child(1)",c).textContent.localeCompare($("td:nth-child(1)",a).textContent):$("td:nth-child(5)",c).textContent.localeCompare($("td:nth-child(5)",a).textContent):i&&h?$("td:nth-child(1)",c).textContent.localeCompare($("td:nth-child(1)",a).textContent):e.textContent.localeCompare(d.textContent):i&&!h?f?$("td:nth-child(1)",a).textContent.localeCompare($("td:nth-child(1)",c).textContent):$("td:nth-child(5)",a).textContent===$("td:nth-child(5)",c).textContent?$("td:nth-child(1)",a).textContent.localeCompare($("td:nth-child(1)",c).textContent):$("td:nth-child(5)",a).textContent.localeCompare($("td:nth-child(5)",c).textContent):i&&h?$("td:nth-child(1)",a).textContent.localeCompare($("td:nth-child(1)",c).textContent):e.textContent.localeCompare(d.textContent)}),g||d.reverse(),d.forEach(function(a){e.insertBefore(a,e.firstChild)})}function Z(a){var b=[],c=$$(".js-tabs",a||_a);c.length&&c.forEach(function(a){b.push(new Xb(a))})}function _(){Zb&&$b.length&&Yb&&(_b=0,$b.forEach(function(a){_b=Math.max(_b,a.offsetHeight)}),ffclass.has(Za,"is-filters-open")&&(Zb.style.height=_b+"px"))}function aa(a){a=a||_a,dc=$$("[data-tofilter]",_a)}function ba(){ec.filter(function(a){return ffclass.has(a,"is-active")&&a.hasAttribute("data-value")&&"*"!=a.getAttribute("data-value")}).map(function(a){return{name:a.getAttribute("data-filter"),value:a.getAttribute("data-value").toString().split(",")}}).forEach(function(a){fc.push(a)})}function ca(a){$$(".js-tabFilters",a||_a).forEach(function(a){da(a)})}function da(a){var b=$$("[data-filter]",a),c=b.filter(function(a){return a.hasAttribute("data-value")&&"*"===a.getAttribute("data-value")});b.forEach(function(d){d.addEventListener("click",function(e){e.preventDefault(),ea(d,a,b,c)},!1)})}function ea(a,b,c,d){if(a.hasAttribute("data-filter")&&a.hasAttribute("data-value")){!hc&&support.history&&a.hasAttribute("href")&&(history.replaceState({},"",a.getAttribute("href")),ia());var e=a.getAttribute("data-filter"),f="continent"===e?"localisations":e,g=a.getAttribute("data-value"),h=$$('[data-filter="'+f+'"][data-value="*"]',b),i=$$('[data-filter="'+e+'"][data-value="'+g+'"]',b);g="*"===g?[]:g.toString().split(","),fc=g.length?[{name:e,value:g}]:[],ffclass.remove(c,"is-active"),ffclass.add(d,"is-active"),fc.length&&(ffclass.add(i,"is-active"),ffclass.remove(h,"is-active")),fa(),bc&&(fc.length?(bc.innerHTML=a.textContent,ffclass.remove(bc.parentNode,"srOnly")):(ffclass.add(bc.parentNode,"srOnly"),bc.innerHTML=bc.hasAttribute("data-title")?bc.getAttribute("data-title"):"Archive"),ffclass.add(kc,"is-hide")),ja()}}function fa(){ffclass.remove(dc,"is-hide"),fc.length&&fc.forEach(function(a){a.value.forEach(function(b){var c=ha(a.name,b);c.length&&ffclass.add(c,"is-hide")})})}function ha(a,b){return dc.filter(function(c){return!c.hasAttribute("data-filter-"+a)||-1===c.getAttribute("data-filter-"+a).toString().split(",").indexOf(b)})}function ia(b){cc.forEach(function(b){var c=b.getAttribute("href");if(c){c=e(c);var d=-1!==c.indexOf("list=1"),f=-1!==c.indexOf("images=1"),g=a.location.href;g=g.replace(/(&|\?)(list=1|images=1)/g,"");var h=-1!==g.indexOf("?")?"&":"?";d?g+=h+"list=1":f&&(g+=h+"images=1"),b.setAttribute("href",g)}})}function ja(a,b){var b=b||$$(".grid",a||_a);b.length&&b.forEach(function(a,b){ffgrid({cont:a,item:".grid_i:not(.is-hide)"}),g(a)})}function ka(){la(1)}function la(a){a=a||1,ff.ajax({url:url.ajax,json:!0,params:"action=get_all_projects&page_number="+a,success:function(b){b&&b.content&&(jc?jc.insertAdjacentHTML("beforeend",b.content):(ic.insertAdjacentHTML("beforebegin",b.content),jc=$(".grid",ic.parentNode)),aa(jc),fa(),jc&&ja(!1,[jc]),b.max_num_pages>b.page?la(a+1):ic.remove())}})}function ma(a,b){if(url.projects_archive){b=e(b||Xa.location.href);var c=-1!==b.indexOf("list=1"),d=-1!==b.indexOf("images=1"),f=!1;f=b.match(/[\?&]selection=([^&]*)/i),f=f[1]?e(f[1]):"";var g=url.projects_archive+"?selection="+encodeURIComponent(f)+"&selection_t="+encodeURIComponent(a||"");return c?g+="&list=1":d&&(g+="&images=1"),g}}function na(){if(url.projects_archive)return url.projects_archive+"?selection="+encodeURIComponent(pa()||"")+"&selection_t="+encodeURIComponent(ra()||"")}function oa(a){lc.forEach(function(b){var c=b.getAttribute("href");if(c){c=e(c);var d=-1!==c.indexOf("list=1"),f=-1!==c.indexOf("images=1"),g=a||"";hc||(g=na(),d?g+="&list=1":f&&(g+="&images=1")),console.log(encodeURIComponent(g)),-1!==c.indexOf("mailto:")?b.setAttribute("href","mailto:?body="+encodeURIComponent(g)):b.setAttribute("href",g)}})}function pa(){return e(cookies("projects_selection_ids"))||!1}function qa(){var a=pa();return a?a.split(",").map(function(a){return parseInt(a)}):[]}function ra(){return e(cookies("projects_selection_title"))||!1}function sa(a){cookies({projects_selection_title:a})}function ta(a){a=Array.isArray(a)?a.join(","):a,cookies({projects_selection_ids:a})}function ua(){cookies({projects_selection_ids:null})}function va(a){var b=qa(),c=b.indexOf(a);return c>-1?b.splice(c,1):b.push(a),b.length?ta(b):ua(),!(c>-1)}function wa(a){$$(".js-selection-toggle",a||_a).forEach(function(a){a.addEventListener("click",xa,!1)})}function xa(a){if(a.preventDefault(),this.hasAttribute("data-id")){var b=va(parseInt(this.getAttribute("data-id"))),c=this.hasAttribute("data-txt-remove")?this.getAttribute("data-txt-remove"):"Retirer le projet de ma slection",d=this.hasAttribute("data-txt-add")?this.getAttribute("data-txt-add"):"Ajouter le projet  ma slection",e=$(".srOnly",this)||this;b?(ffclass.add(this,"is-added"),e.innerHTML=c):(ffclass.remove(this,"is-added"),e.innerHTML=d),hc||oa()}}function ya(){if(mc.length)for(var a=0;a<mc.length;a++)if(!ffclass.has(mc[a],"is-hide")&&"none"!=Xa.getComputedStyle(mc[a],null).getPropertyValue("display")&&mc[a].getBoundingClientRect().left<=.25*Wa&&mc[a].getBoundingClientRect().top<=ib-.5*(ib-hb)){mc[a].hasAttribute("data-color")&&"black"==mc[a].getAttribute("data-color")?ffclass.add(ab,"is-white"):ffclass.remove(ab,"is-white");break}}function za(a){$$(".js-hider",a||_a).forEach(function(a){Aa(a)})}function Aa(a){var b=a.closest("[data-nb-hide]"),c=b?$$(".js-hide",b):[],d=b?parseInt(b.getAttribute("data-nb-hide")):0;b&&c.length&&(c.forEach(function(a,b){b>=d&&(a.style.display="none")}),a.addEventListener("click",function(b){b.preventDefault(),c.forEach(function(a){a.removeAttribute("style")}),a.parentNode.remove()},!1))}function Ba(a){$$("[data-split-parent]",a||_a).forEach(function(a){Ca(a)})}function Ca(a){a.innerHTML='<div class="js-txt-split-cont">'+a.innerHTML+"</div>";var b=$(".js-txt-split-cont",a),c=$(".js-txt-split-ellipsis",a),d=$(".js-txt-split-break",a),e=$(".js-txt-split",a);e&&d&&(a.setAttribute("data-split-parent","init"),b.style.height=d.offsetTop+"px",e.addEventListener("click",function(f){f.preventDefault(),e.remove(),d.remove(),c&&c.remove(),a.innerHTML=b.innerHTML,a.removeAttribute("data-split-parent")},!1))}function Da(){$$('[data-split-parent="init"]',_a).forEach(function(a){var b=$(".js-txt-split-cont",a),c=$(".js-txt-split-break",a);b&&c&&(b.style.height=c.offsetTop+"px")})}function Ea(a){$$("[data-split2]",a||_a).forEach(function(a){Fa(a)})}function Fa(a){a.innerHTML='<div class="js-txt-split2-cont">'+a.innerHTML+'</div><p class="txt_more"><button type="button" class="js-txt-split2">'+(a.hasAttribute("data-split2-label")?a.getAttribute("data-split2-label"):"Lire la suite")+"</button></p>";var b=$(".js-txt-split2-cont",a),c=$(".js-txt-split2",a);a.setAttribute("data-split2-init","1"),c.addEventListener("click",function(d){d.preventDefault(),c.parentNode.remove(),a.innerHTML=b.innerHTML,a.removeAttribute("data-split2"),a.removeAttribute("data-split2-init"),ffclass.remove(a,"js-txt-split2-hide")},!1)}function Ga(a){var b=$(".js-txt-split2-cont",a),c=$(".js-txt-split2",a),d=a.hasAttribute("data-split2")?parseInt(a.getAttribute("data-split2")):10;b&&c&&c.clientHeight&&(b.style.maxHeight=c.getBoundingClientRect().height*d+"px")}function Ha(a){var b=$(".js-txt-split2-cont",a);b&&(b.clientHeight+2<b.scrollHeight?ffclass.remove(a,"js-txt-split2-hide"):ffclass.add(a,"js-txt-split2-hide"))}function Ia(){$$("[data-split2][data-split2-init]",_a).forEach(function(a){Ga(a),Ha(a)})}function Ja(a){$$(".js-bg-rwd-img",a||_a).forEach(function(a){Ka(a)})}function Ka(a){var b=$("img",a);if(b){imagesLoaded(b).on("done",function(c){a.style.backgroundImage="url("+(b.currentSrc||b.src)+")"})}}function La(){function a(a){var b=parseFloat(a.getAttribute("data-lat")),c=parseFloat(a.getAttribute("data-lng")),d=new google.maps.LatLng(b,c),e={zoom:15,center:d,scrollwheel:!1,draggable:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,streetViewControl:!1,overviewMapControl:!1,mapTypeControl:!1,panControl:!1,scaleControl:!1,zoomControl:!1},f=new google.maps.Map(a,e);new google.maps.Marker({position:d,map:f});google.maps.event.addDomListener(Xa,"resize",function(){f.setCenter(d)})}oc.length&&oc.forEach(function(b){a(b)})}function Ma(a){function b(){c()}function c(){for(var a=0;a<i;a++)e(h)}function d(){!(h%i)&&h<g&&c()}function e(a){if(!(a>=g)){h++;var b=f[a],c=b.getAttribute("data-type"),e=b.getAttribute("data-id");if(c&&e){var i=!1;"youtube"==c?(i="http://img.youtube.com/vi/"+e+"/maxresdefault.jpg",i&&(b.style.backgroundImage="url("+i+")",ffclass.add(b,"has-img")),d()):"vimeo"==c?ff.ajax({url:"https://vimeo.com/api/v2/video/"+e+".json",json:!0,success:function(a){a&&a.length>0&&(a[0].thumbnail_large||a[0].thumbnail_medium)&&(b.style.backgroundImage="url("+(a[0].thumbnail_large||a[0].thumbnail_medium)+")",ffclass.add(b,"has-img"))},always:function(){d()}}):d()}else d()}}var f=$$(".js-video-cover",a||_a),g=f.length,h=0,i=3;g&&b()}function Na(a){var b=$$(".js-video",a||_a);b.length&&b.forEach(function(a,b){a.addEventListener("click",Oa,!1)})}function Oa(a){a.preventDefault();var b=this,c=b.hasAttribute("data-id")?b:b.closest("[data-id]"),d=c.getAttribute("data-id"),e=c.getAttribute("data-type"),f=c.getAttribute("data-url");if(qc={container:b.parentNode,id:d,type:e,url:f},b.removeEventListener("click",Oa,!1),"youtube"==e)if(pc)onYouTubeIframeAPIReady();else{pc=!0;var g=Ya.createElement("script");g.src="https://www.youtube.com/iframe_api";var h=Ya.getElementsByTagName("script")[0];h.parentNode.insertBefore(g,h)}else if("vimeo"==e){var i="http://www.vimeo.com/api/oembed.json?url="+encodeURIComponent(f)+"&callback=onVimeoOembedReady&autoplay=1",g=Ya.createElement("script");g.src=i;var h=Ya.getElementsByTagName("script")[0];h.parentNode.insertBefore(g,h)}b.remove()}function Pa(a){a.target.playVideo()}function Qa(){qc&&(qc=!1)}function Ra(){b()}function Sa(){c(),Ta()}function Ta(){sc||(sc=!0,Xa.requestAnimationFrame(Ua))}function Ua(){zb.length&&x(),q(),ya(),k(),l(),sc=!1}var Va,Wa,Xa=a,Ya=document,Za=Ya.documentElement,$a=Ya.body,_a=($("#header"),$("#main")),ab=$("#logo"),bb=$("#nav"),cb=Xa.pageYOffset,db=!1,eb=(Ya.location.hostname,!1),fb=(ab&&ffclass.has(ab,"is-white"),0),gb=!1,hb=parseInt(Xa.getComputedStyle(ab,null).getPropertyValue("padding-top")),ib=ab.offsetHeight;cookies.expires=2592e3,cookies.domain=url.cookie_domain,cookies.path=url.cookie_path,cookies.secure=!1,cookies.autojson=!1,b();var jb={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return a<.5?2*a*a:(4-2*a)*a-1},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return a<.5?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return a<.5?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return a<.5?16*a*a*a*a*a:1+16*--a*a*a*a*a}};g();var kb;!function(){var a,b=document.createElement("a").style;void 0!==b[a="webkitTransform"]&&(kb=a),void 0!==b[a="msTransform"]&&(kb=a),void 0!==b[a="transform"]&&(kb=a)}(),$$(".js-scroll",$a).forEach(function(a){a.addEventListener("click",i,!1)}),$$(".js-history-back",$a).forEach(function(a){a.addEventListener("click",j,!1)}),k(),bb.addEventListener("mouseenter",function(a){ffclass.remove(bb,"is-slided")},!1);var lb=$(".page_nav",_a),mb=lb?$$(".page_nav li",lb):[],nb=lb?$$(".page_nav a",lb):[],ob=lb?$$('[id^="section-"]',_a):[],pb=!1;l();var qb=ffclass.has(Za,"is-home"),rb=qb?Ya.title:"Accueil",sb=$(".logo_img-apparition",ab),tb=$(".logo_img-reduction",ab),ub=!1,vb=!1,wb=!1,xb=!1;m();var yb=$(".homeSlider",_a),zb=$$(".homeGrid_row",_a);if(zb.length){zb=zb.map(function(a){var b=$$(".modPhilo_slider",a).filter(function(a){return $$(".modPhilo_i",a).length>1}),c=$(".modFull",a);return c&&(c={el:c,lgd:$(".modFull_lgd",c)}),{el:a,fixed:$$("[data-fixed]",a),scrolled:$$("[data-scrolled]",a),fullSlider:c,philo:b.length?b.map(function(a){return{container:a.parentNode,slider:a,els:$$(".modPhilo_i",a),texts:$$(".modPhilo_text",a)}}):[]}}),t(),x(),v();imagesLoaded($("#homeGrid")).on("progress",function(a,b){if(b.isLoaded){var c=b.img.closest(".homeGrid_row");c&&setTimeout(function(){u(c)},100)}})}isDark.init(function(a,b){a.closest("[data-color]").setAttribute("data-color",b?"black":"white")});var Ab="",Bb="",Cb={},Db=!0;y();var Eb=ffclass.has($a,"is-single-actu"),Fb=$(".actu",_a),Gb=Fb,Hb=!!Gb&&$(".actu_text",Gb),Ib=!!Gb&&$(".actu_imgsWrapper",Gb),Jb=!!Gb&&$(".actu_imgs",Gb),Kb=!!Gb&&$(".actu_header",Gb),Lb={},Mb=!1,Nb=!1,Ob=!1,Pb=!1,Qb=0,Rb=0,Sb=!1;L(),Eb&&I(),B(),P(),screenfull.enabled&&screenfull.onchange(function(){screenfull.isFullscreen?ffclass.add(Za,"is-fullscreen-active"):ffclass.remove(Za,"is-fullscreen-active")});var Tb=!1,Ub=!1;T();var Vb=$(".js-titles",_a);Vb&&(Vb.addEventListener("click",function(a){a.preventDefault(),ffclass.toggle(Za,"no-titles")},!1),Wa>1024&&ffclass.add(Za,"no-titles")),W();var Wb=$$('.table td:not([data-col="selection"]):not([data-col="mail"]) > a',_a);Wb.length&&Wb.forEach(function(a){a.addEventListener("focus",function(b){ffclass.add(a.closest("tr"),"is-focused")},!1),a.addEventListener("blur",function(b){ffclass.remove(a.closest("tr"),"is-focused")},!1)});var Xb=function(a){var b=this;b.tabs_cont=a,b.panels=$$(".js-tab",b.tabs_cont),b.panels.length&&(b.tabs_items=[],b.setNav(),b.tabs_links=b.tabs_items.map(function(a){return $("button",a)}),b.last_item=b.tabs_items[b.tabs_items.length-1],b.first_item=b.tabs_items[0],b.last_link=$("button",b.last_item),b.first_link=$("button",b.first_item),b.init())};Xb.prototype={setNav:function(){var a=this,b=Ya.createElement("ul");ffclass.add(b,"filters_nav"),ffclass.add(b,"txt-m"),ffclass.add(b,"txt-16"),ffclass.add(b,"txt-16-cd1"),a.panels.forEach(function(c,d){var e=$("h2",c),f=Ya.createElement("li");f.innerHTML='<button data-panel="'+c.getAttribute("id")+'" type="button">'+e.innerHTML+"</button>",b.appendChild(f),ffclass.add(e,"srOnly"),a.tabs_items.push(f)}),a.tabs_cont.insertBefore(b,a.tabs_cont.firstChild)},init:function(){var a=this;a.tabs_cont.setAttribute("role","tablist"),a.tabs_items.forEach(function(a){a.setAttribute("role","presentation")}),a.tabs_links.forEach(function(a){a.setAttribute("role","tab");var b=a.getAttribute("data-panel");void 0!==b&&""!==b&&(a.setAttribute("aria-controls",b),a.setAttribute("id","label-"+b),a.setAttribute("tabindex",-1),a.setAttribute("aria-selected","false")),a.removeAttribute("data-panel")}),a.panels.forEach(function(a){var b=a.getAttribute("id");a.setAttribute("role","tabpanel"),a.setAttribute("aria-hidden","true"),a.setAttribute("aria-labelledby","label-"+b)}),a.tabs_links.forEach(function(b){b.addEventListener("click",function(b){a.clickOnTab(b,this)},!1)}),a.tabs_cont.addEventListener("keydown",function(b){a.keyOnTab(b)},!1);var b=0;a.panels.forEach(function(a,c){ffclass.has(a,"to-open")&&(b=c,ffclass.remove(a,"to-open"))});var c=document.createEvent("HTMLEvents");c.initEvent("click",!0,!0),a.tabs_links[b].dispatchEvent(c)},resetAttr:function(){var a=this;a.tabs_links.forEach(function(a){a.setAttribute("tabindex",-1),a.setAttribute("aria-selected","false")}),a.panels.forEach(function(a){a.setAttribute("aria-hidden","true")})},clickOnTab:function(a,b){var c=this,d=b.getAttribute("aria-controls"),e=$("#"+d);c.resetAttr(),b.setAttribute("aria-selected","true"),b.setAttribute("tabindex",0),e.removeAttribute("aria-hidden"),a.preventDefault()},keyOnTab:function(a){var b=this,c=!1;if(b.tabs_links.forEach(function(a){!c&&a.hasAttribute("aria-selected")&&"true"==a.getAttribute("aria-selected")&&(c=a.parentNode)}),!a.ctrlKey){var d=!1;if(37==a.keyCode||38==a.keyCode?d=c===b.first_item?b.last_link:c.previousElementSibling.children[0]:40==a.keyCode||39==a.keyCode?d=c===b.last_item?b.first_link:c.nextElementSibling.children[0]:36==a.keyCode?d=b.first_link:35==a.keyCode&&(d=b.last_link),d){var e=document.createEvent("HTMLEvents");e.initEvent("click",!0,!0),d.dispatchEvent(e),d.focus(),a.preventDefault()}}}},Z();var Yb=$(".js-filters-toggle",_a),Zb=$(".filters",_a),$b=Zb?$$(".filters_tab",Zb):[],_b=0;if(Zb&&$b.length&&Yb&&(_(),Yb.addEventListener("click",function(a){a.preventDefault(),ffclass.has(Za,"is-filters-open")?(ffclass.remove(Za,"is-filters-open"),ffclass.remove(this.parentNode,"is-active"),Zb.style.height="0px"):(ffclass.add(Za,"is-filters-open"),ffclass.add(this.parentNode,"is-active"),Zb.style.height=_b+"px")},!1),ffclass.has(Zb,"to-open"))){var ac=document.createEvent("HTMLEvents");ac.initEvent("click",!0,!0),Yb.dispatchEvent(ac),ffclass.remove(Zb,"to-open")}var bc=$("#archive-projects-title"),cc=$$(".js-link-to-update",_a),dc=[],ec=$$("[data-filter]",_a),fc=(ec.filter(function(a){return a.hasAttribute("data-value")&&"*"===a.getAttribute("data-value")}),[]),gc=-1!==Xa.location.href.indexOf("my_selection"),hc=!gc&&-1!==Xa.location.href.indexOf("selection=");gc||(aa(_a),ba(),ca()),ja();var ic=$("#all-project-placeholder"),jc=!1;ic&&setTimeout(function(){ka()},1e3);var kc=$("#selection-title"),lc=$$(".js-show-selection",_a);kc&&kc.addEventListener("input",function(){if(hc){var a=ma(kc.value);Xa.history.replaceState({},"",a),oa(a)}else sa(kc.value),oa()},!1),wa();var mc=$$("[data-color]",$a);mc.length&&mc.reverse(),ya();var nc=$(".js-expand-infos button",_a);nc&&nc.addEventListener("click",function(a){a.preventDefault(),ffclass.toggle(this.parentNode,"is-expanded")},!1),za(),Ba(),Ea(),Ia(),Ja();var oc=$$(".gogoMap",_a);La(),Ma();var pc=!1,qc=!1;Na(),Xa.onYouTubeIframeAPIReady=function(){if(qc){var a=Ya.createElement("div");qc.container.appendChild(a),new YT.Player(a,{videoId:qc.id,playerVars:{rel:!1,html5:!0,autohide:!0},events:{onReady:Pa}}),Qa()}},Xa.onVimeoOembedReady=function(a){qc&&(qc.container.insertAdjacentHTML("beforeend",unescape(a.html)),Qa())},Ya.addEventListener("keydown",function(a){27==a.keyCode&&H()}),Xa.addEventListener("resize",Ra,!1);var rc=f(function(){_(),Da(),Ia(),V(),ja(),zb.length&&(t(),x()),O()},500);Xa.addEventListener("resize",rc);var sc=!1;Xa.addEventListener("scroll",Sa,!1)}(window);